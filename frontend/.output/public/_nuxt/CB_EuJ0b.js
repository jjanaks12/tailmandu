import{u as Y,_ as q}from"./DhmB0p6i.js";import{_ as G,a as J,b as K,c as Q,d as W,e as X}from"./C0dHp-LP.js";import{_ as Z,a as h,b as tt,c as ot}from"./4qk9AQyh.js";import{_ as et,a as lt,b as nt,c as st}from"./DEI2u2wC.js";import{c as at}from"./CPYLdFy8.js";import{e as S,c as p,o as a,y as rt,g as l,N as it,s as mt,ah as B,r as $,p as ut,a as u,b as o,d as n,w as e,F as b,v as E,f as D,t as d,h as M}from"./D91ZHywZ.js";import{_ as pt}from"./Bz_TdgRY.js";import{_ as _t}from"./D6CprjGg.js";import{h as dt}from"./Byme_EDb.js";import{u as ft}from"./Dnv01NYR.js";import{S as ct}from"./CgxmTvS7.js";import{P as gt}from"./w_xg1G_K.js";import{E as vt}from"./BWzqUCLw.js";import{P as xt,T as $t}from"./bPOiN254.js";import"./C6WeEH23.js";import"./DWuPLQul.js";import"./pHE_q5Bf.js";import"./DQi6vIwO.js";import"./tyVI4G7T.js";import"./Dx2IEVPb.js";import"./Cr-WXHeO.js";import"./C6Y-ieo6.js";import"./BKdb_-kR.js";import"./BbQbYEYN.js";import"./DW-ZThka.js";import"./CobRy8jT.js";import"./Zdgt8dj4.js";import"./CSd0lPZ1.js";import"./B5eRpmlm.js";import"./DbBhuUv1.js";import"./BRiKR8X3.js";import"./DkFGDMJB.js";import"./3A3pU1zD.js";import"./B7Cs89h8.js";import"./ClQ6K9pm.js";import"./BaAlJv6F.js";import"./ZkvbBL6y.js";import"./B3voQtWI.js";import"./CjUBKsF-.js";const bt=S({__name:"DialogFooter",props:{class:{}},setup(C){const _=C;return(f,c)=>(a(),p("div",{"data-slot":"dialog-footer",class:rt(l(at)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",_.class))},[it(f.$slots,"default")],2))}}),Dt={class:"flex gap-4 mb-20"},Ct={class:"flex-grow"},wt={class:"flex gap-2 mb-4"},kt={class:"block text-xl mb-2"},yt={class:"flex flex-wrap gap-1"},Tt={class:"bg-primary text-white px-3 py-1 text-sm rounded-xl"},fo=S({__name:"index",setup(C){ft({title:"Roles"});const{can:_}=Y(),{roles:f}=mt(B()),{fetch:c,destory:V}=B(),i=$(!1),s=$(null),m=$(!1);return ut(()=>{c()}),(Nt,t)=>{const g=q,v=Q,w=K,F=J,x=X,A=h,k=ot,H=tt,P=Z,z=W,U=G,y=nt,T=st,N=lt,R=et,j=pt,I=bt;return a(),p(b,null,[u("div",Dt,[u("div",Ct,[u("div",wt,[o(l(ct)),t[6]||(t[6]=n(" Filters ",-1))])]),o(g,{onClick:t[0]||(t[0]=r=>i.value=!0),permissions:"role_create"},{default:e(()=>[o(l(gt)),t[7]||(t[7]=n(" Add a role ",-1))]),_:1})]),o(U,null,{default:e(()=>[o(F,null,{default:e(()=>[o(w,null,{default:e(()=>[o(v,null,{default:e(()=>[...t[8]||(t[8]=[n("SN",-1)])]),_:1}),o(v,null,{default:e(()=>[...t[9]||(t[9]=[n("Name",-1)])]),_:1}),o(v,{class:"text-right"},{default:e(()=>[...t[10]||(t[10]=[n("Actions",-1)])]),_:1})]),_:1})]),_:1}),o(z,null,{default:e(()=>[(a(!0),p(b,null,E(l(f),(r,L)=>(a(),D(w,null,{default:e(()=>[o(x,null,{default:e(()=>[n(d(L+1),1)]),_:2},1024),o(x,null,{default:e(()=>[u("strong",kt,d(r.name),1),u("ul",yt,[(a(!0),p(b,null,E(r.permissions,O=>(a(),p("li",Tt,d(l(dt)(O.name)),1))),256))])]),_:2},1024),o(x,{class:"text-right"},{default:e(()=>[o(P,null,{default:e(()=>[o(A,null,{default:e(()=>[o(l(vt))]),_:1}),o(H,null,{default:e(()=>[l(_)("role_edit")?(a(),D(k,{key:0,onClick:()=>{i.value=!0,s.value=r}},{default:e(()=>[o(l(xt)),t[11]||(t[11]=n(" Edit ",-1))]),_:1},8,["onClick"])):M("",!0),l(_)("role_delete")?(a(),D(k,{key:1,onClick:()=>{m.value=!0,s.value=r}},{default:e(()=>[o(l($t)),t[12]||(t[12]=n(" Delete ",-1))]),_:1},8,["onClick"])):M("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),o(R,{open:l(i),"onUpdate:open":t[2]||(t[2]=()=>{i.value=!1,s.value=null})},{default:e(()=>[o(N,{class:"bg-white"},{default:e(()=>[o(y,null,{default:e(()=>[n("Edit "+d(l(s)?.name),1)]),_:1}),o(T,null,{default:e(()=>[...t[13]||(t[13]=[n("Modify existing role details to update user permissions and access rights. ",-1)])]),_:1}),o(_t,{role:l(s),onUpdate:t[1]||(t[1]=()=>{i.value=!1,s.value=null})},null,8,["role"])]),_:1})]),_:1},8,["open"]),o(R,{open:l(m),"onUpdate:open":t[5]||(t[5]=r=>{m.value=r,s.value=null})},{default:e(()=>[o(N,{class:"bg-white"},{default:e(()=>[o(j,null,{default:e(()=>[o(y,null,{default:e(()=>[...t[14]||(t[14]=[n("Are you sure?",-1)])]),_:1}),o(T,null,{default:e(()=>[...t[15]||(t[15]=[n(" Once deleted cannot be un done. ",-1)])]),_:1})]),_:1}),o(I,null,{default:e(()=>[o(g,{variant:"destructive",onClick:t[3]||(t[3]=()=>{m.value=!1,s.value=null})},{default:e(()=>[...t[16]||(t[16]=[n("Cancel",-1)])]),_:1}),o(g,{variant:"secondary",onClick:t[4]||(t[4]=async()=>{await l(V)(l(s)?.id),m.value=!1,s.value=null,l(c)()})},{default:e(()=>[...t[17]||(t[17]=[n("Yes, delete it",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64)}}});export{fo as default};

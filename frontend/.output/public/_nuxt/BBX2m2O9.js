import{u as b}from"./p0r3EQlb.js";import{_ as k,u as w}from"./C5kvzf0a.js";import{_ as g}from"./CJQ92kjL.js";import{e as x,p as C,r as m,q as N,c as n,o as a,a as t,b as l,w as u,d as p,g as e,v as B,F as L,x as V,t as f,y as $,f as z,h as A}from"./qg68g3Ym.js";import{R as D}from"./t4NaFtry.js";import"./CZ-43qDQ.js";import"./CPYLdFy8.js";const E={class:"w-full space-y-4"},F={class:"flex items-center gap-2 pb-4 border-b border-primary"},R={class:"space-y-2"},S={class:"text-xl text-gray-600"},q={class:"not-italic"},H=x({__name:"EventList",setup(h){const{axios:r}=C(),c=m([]),s=m(!1),_=async()=>{s.value=!0;const{data:d}=await r.get("/volunteers/trail_events");c.value=d,s.value=!1};return N(()=>{_()}),(d,o)=>{const v=k,y=g;return a(),n("section",E,[t("header",F,[o[1]||(o[1]=t("div",{class:"grow"},[t("h1",{class:"text-3xl text-secondary"},"Current events")],-1)),l(v,{onClick:_,variant:"secondary",modifier:"link",disabled:e(s)},{default:u(()=>[l(e(D),{class:B({"animate-spin":e(s)})},null,8,["class"]),o[0]||(o[0]=p(" fetch ",-1))]),_:1},8,["disabled"])]),t("div",R,[(a(!0),n(L,null,V(e(c),i=>(a(),n("div",null,[t("h2",S,[l(y,{to:`/dashboard/volunteer/checkpoint/${i.id}`},{default:u(()=>[p(f(i.event.name),1)]),_:2},1032,["to"])]),t("em",q,"Starts "+f(e($)(i.event.start).fromNow()),1)]))),256))])])}}}),M={class:"flex flex-wrap space-y-2"},P=x({__name:"index",setup(h){b({title:"Dashboard"});const{can:r}=w();return(c,s)=>(a(),n("div",M,[e(r)("timer_view")?(a(),z(e(H),{key:0})):A("",!0)]))}});export{P as default};

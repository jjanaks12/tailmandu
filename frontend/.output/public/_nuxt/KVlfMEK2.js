import{i as I}from"./CHIgUVhi.js";import{U as u,e as b,v as d,B as g,D as F,f as h,o as w,w as f,b as K,g as n,E as S,I as q}from"./DtcwnfPe.js";import{b as C}from"./9BNrv0sW.js";import{P as B}from"./CRk6R3Kp.js";import{a as T}from"./DmyfRh01.js";import{i as x,g as R,w as _,f as k}from"./CxHr1n6F.js";function U(r,s){return I(r)?!1:Array.isArray(r)?r.some(a=>u(a,s)):u(r,s)}var A=b({__name:"RovingFocusItem",props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(r){const s=r,a=x(),c=C(),l=d(()=>s.tabStopId||c),p=d(()=>a.currentTabStopId.value===l.value),{getItems:m,CollectionItem:v}=T();g(()=>{s.focusable&&a.onFocusableItemAdd()}),F(()=>{s.focusable&&a.onFocusableItemRemove()});function y(e){if(e.key==="Tab"&&e.shiftKey){a.onItemShiftTab();return}if(e.target!==e.currentTarget)return;const t=R(e,a.orientation.value,a.dir.value);if(t!==void 0){if(e.metaKey||e.ctrlKey||e.altKey||!s.allowShiftKey&&e.shiftKey)return;e.preventDefault();let o=[...m().map(i=>i.ref).filter(i=>i.dataset.disabled!=="")];if(t==="last")o.reverse();else if(t==="prev"||t==="next"){t==="prev"&&o.reverse();const i=o.indexOf(e.currentTarget);o=a.loop.value?_(o,i+1):o.slice(i+1)}q(()=>k(o))}}return(e,t)=>(w(),h(n(v),null,{default:f(()=>[K(n(B),{tabindex:p.value?0:-1,"data-orientation":n(a).orientation.value,"data-active":e.active?"":void 0,"data-disabled":e.focusable?void 0:"",as:e.as,"as-child":e.asChild,onMousedown:t[0]||(t[0]=o=>{e.focusable?n(a).onItemFocus(l.value):o.preventDefault()}),onFocus:t[1]||(t[1]=o=>n(a).onItemFocus(l.value)),onKeydown:y},{default:f(()=>[S(e.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),V=A;export{V as R,U as i};

import{_ as B,a as C,b as E,c as L,d as N}from"./Cmm6gOyh.js";import{_ as R}from"./Dw4pR65e.js";import{a as d,E as U,F as T}from"./BVwABNE6.js";import{a as D}from"./mR0KLPQM.js";import{e as I,r as u,a7 as _,s as J,k as M,f as r,w as s,g as e,o as n,b as a,a as j,c as q,F as z,J as A,d as f,t as G,l as H}from"./CwoOZn_i.js";import{L as K}from"./BKpbGE-O.js";const O={class:"text-right"},ee=I({__name:"roleForm",props:{user:{}},emits:["update"],setup(p,{emit:v}){const i=p,l=u(),g=v,{assignUserRole:S}=_(),{roles:h}=J(_()),o=u(!1),V=async t=>{o.value=!0,console.log(t),await S(t),o.value=!1,g("update")};return M(()=>{l.value&&l.value.setValues({user_id:i.user?.id,role_id:i.user?.role?.id})}),(t,c)=>{const b=E,y=C,k=N,x=L,F=B,$=R;return n(),r(e(T),{"validation-schema":e(D),onSubmit:V,class:"flex flex-col gap-4",ref_key:"form",ref:l},{default:s(()=>[a(e(d),{type:"hidden",name:"user_id",value:t.user?.id},null,8,["value"]),a(e(d),{name:"role_id"},{default:s(({handleChange:w})=>[a(F,{"onUpdate:modelValue":w,"default-value":t.user?.role?.id},{default:s(()=>[a(y,null,{default:s(()=>[a(b,{placeholder:"Change role"})]),_:1}),a(x,null,{default:s(()=>[(n(!0),q(z,null,A(e(h),m=>(n(),r(k,{value:m.id},{default:s(()=>[f(G(m.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:2},1032,["onUpdate:modelValue","default-value"]),a(e(U),{name:"role_id"})]),_:1}),j("div",O,[a($,{variant:"secondary",type:"submit",class:"w-[180px]",disabled:e(o)},{default:s(()=>[e(o)?(n(),r(e(K),{key:0,class:"animate-spin relative"})):H("",!0),c[0]||(c[0]=f(" Update details ",-1))]),_:1},8,["disabled"])])]),_:1},8,["validation-schema"])}}});export{ee as _};

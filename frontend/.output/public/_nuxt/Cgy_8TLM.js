import{_ as H,a as T,b as j,c as D}from"./JolboW3R.js";import{_ as J}from"./BnE2jMX8.js";import{e as p,aa as K,s as S,P as m,v as N,h as O,c as d,o as r,b as e,a as $,w as s,g as t,d as f,t as u,E as y,M as C,f as _,r as q,J as B,F as w,l as Q}from"./CwoOZn_i.js";import{_ as W,a as X,b as Y,c as Z,d as ss,e as es,f as as,g as ts}from"./Ct5BWItn.js";import{c as M}from"./CBfrqCZ4.js";import{P as ns}from"./B50zHHui.js";import{_ as os}from"./CiVyOKQR.js";import{u as rs,_ as is}from"./Dw4pR65e.js";import{_ as ls}from"./obffk-CE.js";import{L as cs}from"./BKpbGE-O.js";const _s={class:"flex items-center gap-2 py-[3px]"},us={class:"flex-grow"},ds={class:"block"},ps=p({__name:"AuthUser",setup(i){const{public:{appName:o}}=K(),{user:n,fullName:l,role:a}=S(m()),c=N(()=>O(n.value?.personal?.avatar?.file_name));return(k,A)=>{const g=T,b=j,h=H,v=J;return r(),d("div",_s,[e(h,{class:"w-[60px] h-[60px]"},{default:s(()=>[e(g,{src:t(c),class:"object-cover"},null,8,["src"]),e(b,null,{default:s(()=>[f(u(t(D)(t(l))),1)]),_:1})]),_:1}),$("div",us,[$("strong",ds,u(t(l)||t(o)),1),e(v,{variant:"secondary"},{default:s(()=>[f(u(t(a)||"user"),1)]),_:1})])])}}}),ms=p({__name:"SidebarFooter",props:{class:{}},setup(i){const o=i;return(n,l)=>(r(),d("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",class:C(t(M)("flex flex-col gap-2 p-2",o.class))},[y(n.$slots,"default")],2))}}),fs=p({__name:"SidebarGroupLabel",props:{asChild:{type:Boolean},as:{},class:{}},setup(i){const o=i;return(n,l)=>(r(),_(t(ns),{"data-slot":"sidebar-group-label","data-sidebar":"group-label",as:n.as,"as-child":n.asChild,class:C(t(M)("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",o.class))},{default:s(()=>[y(n.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),gs=p({__name:"SidebarHeader",props:{class:{}},setup(i){const o=i;return(n,l)=>(r(),d("div",{"data-slot":"sidebar-header","data-sidebar":"header",class:C(t(M)("flex flex-col gap-2 p-2",o.class))},[y(n.$slots,"default")],2))}}),bs=()=>{const i=q([{title:"Users",path:"",slug:"users",permissions:[],subMenu:[{title:"Users",icon:"Users",slug:"users",path:"/dashboard/users",permissions:"manage_user"},{title:"Events",icon:"Calendar1",slug:"events",path:"/dashboard/events",permissions:"manage_event"},{title:"Roles",icon:"ShieldCheck",slug:"roles",path:"/dashboard/roles",permissions:"manage_role"},{title:"Permissions",icon:"ShieldUser",slug:"permissions",path:"/dashboard/permissions",permissions:"manage_permission"}]},{title:"Miscellanous",path:"",slug:"extras",permissions:"",role:"Admin",subMenu:[{title:"Countries",path:"/dashboard/countries",slug:"countries",icon:"Flag",permissions:""},{title:"Genders",path:"/dashboard/gender",slug:"gender",icon:"VenusAndMars",permissions:""},{title:"Age category",path:"/dashboard/age_category",slug:"age_category",icon:"Baby",permissions:""}]},{title:"Settings",path:"",slug:"settings",permissions:[],subMenu:[{title:"Change password",path:"/dashboard/change_password",slug:"change_password",icon:"KeyRound",role:"Admin",permissions:"*"},{title:"Personal details",path:"/dashboard/personal_details",slug:"personal_details",icon:"UserPen",role:"Admin",permissions:"*"},{title:"Company",path:"/dashboard/company",slug:"company",icon:"Building",permissions:"manage_company"}]}]),{can:o}=rs(),{user:n}=S(m());return{menuList:N(()=>i.value.map(a=>a.role?a.role==n.value?.role?.name?a:null:a.permissions.length>0?o(a.permissions)?a:null:{...a,subMenu:a.subMenu?.map(c=>o(c.permissions)?{...c}:null).filter(c=>c!=null)}).filter(a=>a==null?!1:a.subMenu&&a.subMenu.length>0))}},Ls=p({__name:"_sidebar",setup(i){const{menuList:o}=bs(),{logout:n}=m(),{isLoading:l}=S(m());return(a,c)=>{const k=ps,A=gs,g=fs,b=as,h=os,v=es,U=ss,F=Z,P=Y,G=X,V=W,I=is,R=ms,z=ts,E=ls;return r(),_(E,null,{default:s(()=>[e(z,{class:"admin"},{default:s(()=>[e(A,null,{default:s(()=>[e(k)]),_:1}),e(V,null,{default:s(()=>[(r(!0),d(w,null,B(t(o),L=>(r(),_(G,{class:"bg-gray-200"},{default:s(()=>[e(g,null,{default:s(()=>[f(u(L.title),1)]),_:2},1024),e(P,null,{default:s(()=>[e(F,null,{default:s(()=>[(r(!0),d(w,null,B(L.subMenu,x=>(r(),_(U,null,{default:s(()=>[e(v,{"as-child":""},{default:s(()=>[e(h,{to:x.path},{default:s(()=>[e(b,{name:x.icon},null,8,["name"]),$("span",null,u(x.title),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1}),e(R,null,{default:s(()=>[e(I,{variant:"destructive",onClick:t(n),disabled:t(l)},{default:s(()=>[c[0]||(c[0]=f(" Logout ",-1)),t(l)?(r(),_(t(cs),{key:0,class:"animate-spin relative"})):Q("",!0)]),_:1},8,["onClick","disabled"])]),_:1})]),_:1})]),_:1})}}});export{Ls as _};

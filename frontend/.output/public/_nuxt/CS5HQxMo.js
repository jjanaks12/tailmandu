import{_ as M,a as q,b as D,c as F,d as I,e as R}from"./BQUvdYOr.js";import{_ as A,a as J,b as K,c as O,d as U,e as z}from"./B2mN432x.js";import{f as G}from"./D1YfuqZ-.js";import{I as Q,r as W,J as X,l as Y,K as Z,L as h,e as ee,s as te,q as ae,c as _,a as m,b as t,h as w,w as a,g as o,t as i,F as p,o as u,d as l,x as y,f as N}from"./BWYtlrHP.js";import{u as se}from"./pvFOUAvB.js";import"./CPYLdFy8.js";import"./qK-Ygz8H.js";import"./DHK_nE_D.js";import"./IQQXW68s.js";import"./k7q4IQQ5.js";import"./BSfqQtg2.js";import"./DkQOv5sH.js";const T=Q("newsletters",()=>{const c=W([]),{isLoading:g,params:s}=X(),{axios:x}=Y(),v=async()=>{const{data:{data:e,...r}}=await x.get("/newsletter",{params:s.value});c.value=e,s.value=r,c.value=e};return Z(s,(e,r)=>{h(e,r)||v()}),{newsletters:c,isLoading:g,params:s,fetch:v}}),ne={key:0,class:"flex items-center justify-end space-x-2 py-4"},oe={class:"flex-1 text-sm text-muted-foreground"},le={class:"space-x-2"},be=ee({__name:"newsletter",setup(c){se({title:"Newsletters"});const{newsletters:g,params:s}=te(T()),{fetch:x}=T();return ae(()=>{x()}),(v,e)=>{const r=F,$=D,P=q,f=R,k=I,B=M,C=K,S=O,E=U,V=z,j=J,H=A;return u(),_(p,null,[e[5]||(e[5]=m("div",{class:"flex"},[m("div",{class:"flex-grow"},[m("h1",{class:"text-primary text-2xl mb-4"},"Newsletters")])],-1)),t(B,null,{default:a(()=>[t(P,null,{default:a(()=>[t($,null,{default:a(()=>[t(r,null,{default:a(()=>[...e[1]||(e[1]=[l("SN",-1)])]),_:1}),t(r,null,{default:a(()=>[...e[2]||(e[2]=[l("Name",-1)])]),_:1}),t(r,null,{default:a(()=>[...e[3]||(e[3]=[l("Email",-1)])]),_:1}),t(r,null,{default:a(()=>[...e[4]||(e[4]=[l("Subscribed at",-1)])]),_:1})]),_:1})]),_:1}),t(k,null,{default:a(()=>[(u(!0),_(p,null,y(o(g),(n,b)=>(u(),N($,null,{default:a(()=>[t(f,null,{default:a(()=>[l(i(b+1),1)]),_:2},1024),t(f,null,{default:a(()=>[l(i([n.user?.first_name,n.user?.middle_name,n.user?.last_name].join(" ")??"-"),1)]),_:2},1024),t(f,null,{default:a(()=>[l(i(n.email),1)]),_:2},1024),t(f,null,{default:a(()=>[l(i(o(G)(n.subscribed_at)),1)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),o(s).total_page>1?(u(),_("div",ne,[m("div",oe,i(o(s)?.current)+" of "+i(o(s)?.total_page)+" pages ",1),m("div",le,[t(H,{"items-per-page":o(s).per_page,total:o(s).total,"default-page":o(s).current,"onUpdate:page":e[0]||(e[0]=n=>{s.value={...o(s),current:n}})},{default:a(({page:n})=>[t(j,null,{default:a(({items:b})=>[t(C),(u(!0),_(p,null,y(b,(d,L)=>(u(),_(p,{key:L},[d.type==="page"?(u(),N(S,{key:0,value:d.value,"is-active":d.value===n},{default:a(()=>[l(i(d.value),1)]),_:2},1032,["value","is-active"])):w("",!0)],64))),128)),t(E,{index:4}),t(V)]),_:2},1024)]),_:1},8,["items-per-page","total","default-page"])])])):w("",!0)],64)}}});export{be as default};

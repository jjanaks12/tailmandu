import{_ as q,a as z,b as K,c as Q}from"./kmBNxmyc.js";import{_ as W}from"./BE0w_yTj.js";import{$ as X,_ as Z}from"./Bs3IzzSB.js";import{_ as ee,a as ae,b as le,c as se,d as te}from"./DVJBaGUp.js";import{_ as oe}from"./C30g46ES.js";import{e as ne,P as M,s as P,R as ie,r as C,v as re,A as I,B as de,c as g,a,b as e,w as t,g as l,F as h,ad as _e,h as me,o as m,d as v,t as b,m as u,J as S,f as x,l as ue}from"./DtcwnfPe.js";import{a as r,E as d,F as ce}from"./Bk_QNj-T.js";import{c as fe}from"./DEPmGevG.js";import{u as pe}from"./bLA7xXrm.js";import{I as B,M as ve,P as ge,V as he,F as be,B as xe}from"./DOO-5MXw.js";import{C as ye}from"./B-6hlnvy.js";import{L as we}from"./CUU-NN3s.js";import"./CBfrqCZ4.js";import"./9BNrv0sW.js";import"./CRk6R3Kp.js";import"./DJMzHe9L.js";import"./C77EKNVI.js";import"./CcPnVmeR.js";import"./DmyfRh01.js";import"./kRIii9yh.js";import"./OlCaFKwb.js";import"./auehYMrn.js";import"./vVQyPDux.js";import"./BAx2kpLI.js";import"./CHIgUVhi.js";import"./DAPt4HuA.js";import"./DrFvtmkD.js";const Fe={class:"self-center mb-16"},Ve={class:"flex space-x-8"},$e={class:"w-1/3"},Se={class:"flex gap-2"},Be={class:"flex-grow"},ke={class:"w-1/3"},Ae={class:"flex gap-2"},De={class:"flex-grow"},Me={class:"w-1/3"},Pe={class:"flex gap-2"},Ce={class:"flex-grow"},Ie={class:"flex space-x-8"},Le={class:"w-1/2"},Ee={class:"flex gap-2"},Ne={class:"flex-grow"},Re={class:"w-1/2"},Ye={class:"flex gap-2"},Te={class:"flex-grow"},Ue={class:"flex gap-2"},He={class:"flex-grow"},je={class:"flex space-x-8"},Ge={class:"w-1/3"},Je={class:"flex gap-2"},Oe={class:"flex-grow"},qe={class:"w-1/3"},ze={class:"flex gap-2"},Ke={class:"flex-grow"},Qe={class:"w-1/3"},We={class:"flex gap-2"},Xe={class:"flex-grow"},Ze={class:"text-right"},Aa=ne({__name:"personal_details",setup(ea){pe({title:"Personal details"});const{updateDetail:L}=M(),{isLoading:k,user:o,fullName:E}=P(M()),{genders:N,countries:R,age_categories:Y}=P(ie()),i=C(null),c=C(),T=re(()=>me(o.value?.personal?.avatar?.file_name)),A=()=>{i.value!==null&&o.value!==null&&(i.value.setFieldValue("first_name",o.value.personal.first_name),i.value.setFieldValue("middle_name",o.value.personal.middle_name||""),i.value.setFieldValue("last_name",o.value.personal.last_name),i.value.setFieldValue("email",o.value.personal.email),i.value.setFieldValue("gender_id",o.value.personal.gender_id),i.value.setFieldValue("country_id",o.value.personal.country_id),i.value.setFieldValue("age_category_id",o.value.personal.age_category_id),i.value.setFieldValue("phone_number",o.value.personal.phone_number),i.value.setFieldValue("image_id",o.value.personal?.image_id),o.value.personal.date_of_birth&&(i.value.setFieldValue("date_of_birth",o.value.personal.date_of_birth),c.value=X(_e(o.value.personal.date_of_birth).format("YYYY-MM-DD"))))},U=D=>{const s=D.target.files;if(!s)return;const f=new FileReader;s[0]&&(f.readAsDataURL(s[0]),f.onload=()=>{i.value?.setFieldValue("image",f.result)})};return I(c,()=>{i.value&&i.value.setFieldValue("date_of_birth",`${c.value.year}-${c.value.month}-${c.value.day}`)}),I(o,()=>{A()}),de(()=>{A()}),(D,s)=>{const f=z,H=K,j=q,p=W,G=Z,y=le,w=ae,F=te,V=se,$=ee,J=oe;return m(),g(h,null,[s[11]||(s[11]=a("div",{class:"text-sm mb-4"},[a("h1",{class:"text-black text-xl"},"Personal details"),a("p",null,"Enter your personal details below to update your account information.")],-1)),e(l(ce),{"validation-schema":l(fe),method:"post",onSubmit:l(L),class:"max-w-[820px] flex flex-col space-y-4",ref_key:"form",ref:i},{default:t(({values:O,errors:aa})=>[a("label",Fe,[e(j,{class:"w-[180px] h-[180px] bg-gray-300"},{default:t(()=>[e(f,{src:O.image||l(T)||"",class:"object-cover"},null,8,["src"]),e(H,{class:"text-4xl"},{default:t(()=>[v(b(l(Q)(l(E))),1)]),_:1})]),_:2},1024),a("input",{type:"file",onChange:U,class:"sr-only",accept:"image/*"},null,32)]),a("div",Ve,[a("div",$e,[e(l(r),{name:"first_name"},{default:t(({field:n})=>[s[1]||(s[1]=a("label",{class:"sr-only",for:"lf__first_name"},"First name",-1)),a("div",Se,[e(l(B),{class:"mt-3"}),a("div",Be,[e(p,u({type:"text"},n,{placeholder:"First name",id:"lf__first_name",autocomplete:"given-name"}),null,16),e(l(d),{name:"first_name"})])])]),_:1})]),a("div",ke,[e(l(r),{name:"middle_name"},{default:t(({field:n})=>[s[2]||(s[2]=a("label",{class:"sr-only",for:"lf__middle_name"},"Middle name",-1)),a("div",Ae,[e(l(B),{class:"mt-3"}),a("div",De,[e(p,u({type:"text"},n,{placeholder:"Middle name",id:"lf__middle_name"}),null,16),e(l(d),{name:"middle_name"})])])]),_:1})]),a("div",Me,[e(l(r),{name:"last_name"},{default:t(({field:n})=>[s[3]||(s[3]=a("label",{class:"sr-only",for:"lf__last_name"},"Last name",-1)),a("div",Pe,[e(l(B),{class:"mt-3"}),a("div",Ce,[e(p,u({type:"text"},n,{placeholder:"Last name",id:"lf__last_name",autocomplete:"given-name"}),null,16),e(l(d),{name:"last_name"})])])]),_:1})])]),a("div",Ie,[a("div",Le,[e(l(r),{name:"email"},{default:t(({field:n})=>[s[4]||(s[4]=a("label",{class:"sr-only",for:"lf__email"},"Email",-1)),a("div",Ee,[e(l(ve),{class:"mt-3"}),a("div",Ne,[e(p,u({type:"email"},n,{placeholder:"Email",id:"lf__email",autocomplete:"email",disabled:""}),null,16),e(l(d),{name:"email"})])])]),_:1})]),a("div",Re,[e(l(r),{name:"phone_number"},{default:t(({field:n})=>[s[5]||(s[5]=a("label",{class:"sr-only",for:"lf__phone_number"},"Phone number",-1)),a("div",Ye,[e(l(ge),{class:"mt-3"}),a("div",Te,[e(p,u({type:"text"},n,{placeholder:"Phone number",id:"lf__phone_number",autocomplete:"mobile"}),null,16),e(l(d),{name:"phone_number"})])])]),_:1})])]),e(l(r),{name:"date_of_birth"},{default:t(()=>[s[6]||(s[6]=a("label",{class:"sr-only",for:"lf__date_of_birth"},"Date of birth",-1)),a("div",Ue,[e(l(ye),{class:"mt-3"}),a("div",He,[e(G,{label:"Date of Birth","model-value":l(c),"onUpdate:modelValue":s[0]||(s[0]=n=>c.value=n)},null,8,["model-value"]),e(l(d),{name:"date_of_birth"})])])]),_:1}),a("div",je,[a("div",Ge,[e(l(r),{name:"gender_id",id:"lf__gender"},{default:t(({field:n})=>[s[7]||(s[7]=a("label",{class:"sr-only",for:"lf__gender"},"Gender",-1)),a("div",Je,[e(l(he),{class:"mt-3"}),a("div",Oe,[e($,u(n,{autocomplete:"sex","default-value":l(o)?.personal.gender_id}),{default:t(()=>[e(w,{class:"w-full"},{default:t(()=>[e(y,{placeholder:"Select a gender"})]),_:1}),e(V,null,{default:t(()=>[(m(!0),g(h,null,S(l(N),_=>(m(),x(F,{value:_.id},{default:t(()=>[v(b(_.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:2},1040,["default-value"]),e(l(d),{name:"gender_id"})])])]),_:1})]),a("div",qe,[e(l(r),{name:"country_id"},{default:t(({field:n})=>[s[8]||(s[8]=a("label",{class:"sr-only",for:"lf__country"},"Country",-1)),a("div",ze,[e(l(be),{class:"mt-3"}),a("div",Ke,[e($,u(n,{autocomplete:"sex",id:"lf__country","default-value":l(o)?.personal.country_id}),{default:t(()=>[e(w,{class:"w-full"},{default:t(()=>[e(y,{placeholder:"Select a country"})]),_:1}),e(V,null,{default:t(()=>[(m(!0),g(h,null,S(l(R),_=>(m(),x(F,{value:_.id},{default:t(()=>[v(b(_.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:2},1040,["default-value"]),e(l(d),{name:"country_id"})])])]),_:1})]),a("div",Qe,[e(l(r),{name:"age_category_id"},{default:t(({field:n})=>[s[9]||(s[9]=a("label",{class:"sr-only",for:"lf__age_category_id"},"Age category",-1)),a("div",We,[e(l(xe),{class:"mt-3"}),a("div",Xe,[e($,u(n,{autocomplete:"sex",id:"lf__country","default-value":l(o)?.personal.age_category_id}),{default:t(()=>[e(w,{class:"w-full"},{default:t(()=>[e(y,{placeholder:"Select an age group"})]),_:1}),e(V,null,{default:t(()=>[(m(!0),g(h,null,S(l(Y),_=>(m(),x(F,{value:_.id},{default:t(()=>[v(b(_.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:2},1040,["default-value"]),e(l(d),{name:"age_category_id"})])])]),_:1})])]),a("div",Ze,[e(J,{variant:"secondary",type:"submit",class:"w-[180px]",disabled:l(k)},{default:t(()=>[l(k)?(m(),x(l(we),{key:0,class:"animate-spin relative"})):ue("",!0),s[10]||(s[10]=v(" Update details ",-1))]),_:1},8,["disabled"])])]),_:1},8,["validation-schema","onSubmit"])],64)}}});export{Aa as default};

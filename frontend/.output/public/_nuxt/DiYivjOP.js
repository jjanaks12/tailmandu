import{_ as O}from"./BAFE0boa.js";import{_ as Y,a as q,b as J,c as K,d as Q,e as W}from"./p98pM6S4.js";import{_ as X,a as Z,b as h,c as ee}from"./DHbATN6T.js";import{_ as te,a as oe,b as ne,c as le}from"./UVl6tQ0h.js";import{c as se}from"./bRKmu4jq.js";import{e as S,c as m,o as r,G as ae,E as n,s as re,I as ie,N as R,r as $,n as _e,a as u,b as t,d as l,w as o,F as b,z as B,D,t as p,C as M}from"./CMjavVp8.js";import{_ as ue}from"./Cx4nHRZV.js";import{_ as me}from"./XMem5Rcx.js";import{h as de}from"./DAFbDYLP.js";import{u as pe}from"./DQLf1w2b.js";import{u as fe}from"./DzOswS_p.js";import{S as ce}from"./CeJu27aV.js";import{P as ge}from"./Dk04OAvL.js";import{E as ve}from"./Cz562ICh.js";import{P as xe,T as $e}from"./-mVkE0v9.js";import"./BF_x-txX.js";import"./xAYzgGwh.js";import"./VQ-eN-oM.js";import"./CzzPYyuk.js";import"./CNAOxuXL.js";import"./nZKF5ZxW.js";import"./DGNkmS_y.js";import"./B5rxJs06.js";import"./C-xaOyYb.js";import"./DurXOzKZ.js";import"./CswUeZ4Q.js";import"./DL3t_qLo.js";import"./ByZ92x1S.js";import"./Ik6sADHB.js";import"./DCVC01Q_.js";import"./cRn6fn_Q.js";const be=S({__name:"DialogFooter",props:{class:{}},setup(C){const d=C;return(f,c)=>(r(),m("div",{"data-slot":"dialog-footer",class:ae(n(se)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",d.class))},[re(f.$slots,"default")],2))}}),De={class:"flex gap-4 mb-20"},Ce={class:"flex-grow"},we={class:"flex gap-2 mb-4"},ke={class:"block text-xl mb-2"},ye={class:"flex flex-wrap gap-1"},Te={class:"bg-primary text-white px-3 py-1 text-sm rounded-xl"},st=S({__name:"index",setup(C){pe({title:"Roles"});const{can:d}=fe(),{roles:f}=ie(R()),{fetch:c,destory:V}=R(),i=$(!1),a=$(null),_=$(!1);return _e(()=>{c()}),(Ee,e)=>{const g=O,v=K,w=J,F=q,x=W,z=Z,k=ee,A=h,H=X,P=Q,U=Y,y=ne,T=le,E=oe,N=te,I=ue,j=be;return r(),m(b,null,[u("div",De,[u("div",Ce,[u("div",we,[t(n(ce)),e[6]||(e[6]=l(" Filters "))])]),t(g,{onClick:e[0]||(e[0]=s=>i.value=!0),permissions:"role_create"},{default:o(()=>[t(n(ge)),e[7]||(e[7]=l(" Add a role "))]),_:1,__:[7]})]),t(U,null,{default:o(()=>[t(F,null,{default:o(()=>[t(w,null,{default:o(()=>[t(v,null,{default:o(()=>e[8]||(e[8]=[l("SN")])),_:1,__:[8]}),t(v,null,{default:o(()=>e[9]||(e[9]=[l("Name")])),_:1,__:[9]}),t(v,{class:"text-right"},{default:o(()=>e[10]||(e[10]=[l("Actions")])),_:1,__:[10]})]),_:1})]),_:1}),t(P,null,{default:o(()=>[(r(!0),m(b,null,B(n(f),(s,G)=>(r(),D(w,null,{default:o(()=>[t(x,null,{default:o(()=>[l(p(G+1),1)]),_:2},1024),t(x,null,{default:o(()=>[u("strong",ke,p(s.name),1),u("ul",ye,[(r(!0),m(b,null,B(s.permissions,L=>(r(),m("li",Te,p(n(de)(L.name)),1))),256))])]),_:2},1024),t(x,{class:"text-right"},{default:o(()=>[t(H,null,{default:o(()=>[t(z,null,{default:o(()=>[t(n(ve))]),_:1}),t(A,null,{default:o(()=>[n(d)("role_edit")?(r(),D(k,{key:0,onClick:()=>{i.value=!0,a.value=s}},{default:o(()=>[t(n(xe)),e[11]||(e[11]=l(" Edit "))]),_:2,__:[11]},1032,["onClick"])):M("",!0),n(d)("role_delete")?(r(),D(k,{key:1,onClick:()=>{_.value=!0,a.value=s}},{default:o(()=>[t(n($e)),e[12]||(e[12]=l(" Delete "))]),_:2,__:[12]},1032,["onClick"])):M("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),t(N,{open:n(i),"onUpdate:open":e[2]||(e[2]=()=>{i.value=!1,a.value=null})},{default:o(()=>[t(E,{class:"bg-white"},{default:o(()=>[t(y,null,{default:o(()=>{var s;return[l("Edit "+p((s=n(a))==null?void 0:s.name),1)]}),_:1}),t(T,null,{default:o(()=>e[13]||(e[13]=[l("Modify existing role details to update user permissions and access rights. ")])),_:1,__:[13]}),t(me,{role:n(a),onUpdate:e[1]||(e[1]=()=>{i.value=!1,a.value=null})},null,8,["role"])]),_:1})]),_:1},8,["open"]),t(N,{open:n(_),"onUpdate:open":e[5]||(e[5]=s=>{_.value=s,a.value=null})},{default:o(()=>[t(E,{class:"bg-white"},{default:o(()=>[t(I,null,{default:o(()=>[t(y,null,{default:o(()=>e[14]||(e[14]=[l("Are you sure?")])),_:1,__:[14]}),t(T,null,{default:o(()=>e[15]||(e[15]=[l(" Once deleted cannot be un done. ")])),_:1,__:[15]})]),_:1}),t(j,null,{default:o(()=>[t(g,{variant:"destructive",onClick:e[3]||(e[3]=()=>{_.value=!1,a.value=null})},{default:o(()=>e[16]||(e[16]=[l("Cancel")])),_:1,__:[16]}),t(g,{variant:"secondary",onClick:e[4]||(e[4]=async()=>{var s;await n(V)((s=n(a))==null?void 0:s.id),_.value=!1,a.value=null,n(c)()})},{default:o(()=>e[17]||(e[17]=[l("Yes, delete it")])),_:1,__:[17]})]),_:1})]),_:1})]),_:1},8,["open"])],64)}}});export{st as default};

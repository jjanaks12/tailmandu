import{_ as D}from"./DhmB0p6i.js";import{_ as H}from"./D-lqA9Xr.js";import{e as O,b8 as N,r as y,p as I,x as M,c as l,h as v,a as e,g as s,N as z,F as f,v as x,t as c,o as a,b9 as E,z as V,l as F,E as S,G,H as P,f as T,w as g,b as k,q,i as B,d as A,a1 as U}from"./D91ZHywZ.js";import{_ as j}from"./DlAUqK2U.js";import{a as X}from"./Dnv01NYR.js";import{M as W}from"./xLQoRjPC.js";import"./C6WeEH23.js";import"./CPYLdFy8.js";import"./DWuPLQul.js";const R=(m,h,b="0")=>(m=m+"",m.length>=h?m:new Array(h-m.length+1).join(b)+m),$=globalThis.setInterval,K={class:"countdown"},J={key:0,class:"text"},Q={class:"countdown__holder"},Y={key:0,class:"countdown__tile"},Z={class:"countdown__tile"},ee={class:"countdown__tile"},te={class:"countdown__tile"},se=O({__name:"Countdown",props:{date:{}},setup(m){E(i=>({v1798b80d:o.value}));const h=m,b=N(),o=y(0),_=y(0),u=y(0),d=y(0),p=y(0);return I(()=>{const i=M(),n=h.date;n.diff(i)<0||(_.value=i.diff(n,"days")*-1,$(()=>{_.value==0&&(_.value=30),_.value--},1e3*60*60),u.value=i.diff(n,"hours")*-1%24,$(()=>{u.value==0&&(u.value=60),u.value--},1e3*60*60),d.value=i.diff(n,"minutes")*-1%60,$(()=>{d.value==0&&(d.value=60),d.value--},1e3*60),p.value=i.diff(n,"seconds")*-1%60,$(()=>{p.value==0&&(p.value=60),p.value--},1e3))}),I(()=>{const i=document.querySelectorAll(".countdown__holder .countdown__tile");o.value=i?.length??1}),(i,n)=>(a(),l("div",K,[s(b).default?(a(),l("div",J,[z(i.$slots,"default",{},void 0,!0)])):v("",!0),e("div",Q,[_.value>0?(a(),l("div",Y,[(a(!0),l(f,null,x(s(R)(_.value.toString(),2).split(""),(t,r)=>(a(),l("span",{key:"day_"+r},c(t),1))),128)),e("em",null,"day"+c(_.value>1?"s":""),1)])):v("",!0),e("div",Z,[(a(!0),l(f,null,x(s(R)(u.value.toString(),2).split(""),(t,r)=>(a(),l("span",{key:"hour_"+r},c(t),1))),128)),e("em",null,"hour"+c(u.value>1?"s":""),1)]),e("div",ee,[(a(!0),l(f,null,x(s(R)(d.value.toString(),2).toString().split(""),(t,r)=>(a(),l("span",{key:"minute_"+r},c(t),1))),128)),e("em",null,"min"+c(d.value>1?"s":""),1)]),e("div",te,[(a(!0),l(f,null,x(s(R)(p.value.toString(),2).toString().split(""),(t,r)=>(a(),l("span",{key:"second_"+r},c(t),1))),128)),e("em",null,"sec"+c(p.value>1?"s":""),1)])])]))}}),oe=j(se,[["__scopeId","data-v-ea4e6f67"]]),ne=""+new URL("img01.BEUtbhuU.png",import.meta.url).href,ae=""+new URL("img02.Boi42oab.jpg",import.meta.url).href,le={class:"h-[calc(100vh-82px)] overflow-hidden"},ie=["src","alt"],re={class:"text-[#13304a] container py-[80px]"},ue={class:"space-y-4 mb-6"},de={class:"space-y-4"},ce={class:"block"},me=["innerHTML"],_e=["innerHTML"],pe={class:"container py-[80px]"},ge={class:"text-[#13304a] flex gap-4"},ve={class:"w-3/5"},fe=["innerHTML"],he={class:"flex items-center gap-1 mb-2"},ye={class:"w-2/5"},xe={class:"rounded-sm overflow-hidden mb-5"},be=["src"],we={class:"relative z-0 overflow-hidden"},ke={class:"absolute inset-0 -z-[-1]"},Me=["src"],Se={class:"text-white text-center grid place-items-center min-h-[620px] z-[1] relative"},Te={class:"container"},Re={key:2,class:"font-normal text-5xl"},$e={key:1},ze=O({__name:"[id]",setup(m){const h=V(),{axios:b}=F(),o=y(null),_=async()=>{const{data:n}=await b.get(`/events/stages/${h.params.id}`);o.value=n,q(n.name),X({title:o.value.name,ogTitle:o.value.name,description:o.value.excerpt,ogDescription:o.value.excerpt,ogImage:B(o.value.thumbnail?.file_name)})},u=S(()=>o.value?.stage_categories.map(n=>n.start).map(n=>M(n)).sort((n,t)=>n.valueOf()-t.valueOf())[0]),d=S(()=>o.value?.stage_categories.map(n=>n.end).map(n=>M(n).local()).sort((n,t)=>t.valueOf()-n.valueOf())[0]),p=S(()=>M().isAfter(u.value?.startOf("day"))),i=S(()=>M().isAfter(d.value?.endOf("day")));return G(_),(n,t)=>{const r=D,L=H,C=oe;return s(o)?(a(),l(f,{key:0},[e("figure",le,[e("img",{src:s(B)(s(o)?.thumbnail.file_name),alt:s(o).name,class:"w-full h-full object-cover"},null,8,ie)]),e("div",re,[e("div",ue,[(a(!0),l(f,null,x(s(o).stage_categories,w=>(a(),l("div",de,[e("strong",ce,"Overview: "+c(w.name),1),e("div",{class:"leading-7 content_editor",innerHTML:w.description},null,8,me)]))),256))]),e("div",{class:"mb-6 leading-7 content_editor",innerHTML:s(o).description},null,8,_e),s(i)?v("",!0):(a(),T(L,{key:0,to:{name:"races-slug-runner",params:{slug:s(o).event.slug},query:{stage_id:s(o).id}},"as-child":""},{default:g(()=>[k(r,{type:"button",variant:"secondary"},{default:g(()=>[...t[0]||(t[0]=[A("Register for race",-1)])]),_:1})]),_:1},8,["to"]))]),t[9]||(t[9]=P('<section class="bg-gray-200 relative overflow-hidden z-[1]"><div class="container text-[#13304a] py-[100px]"><ul class="flex gap-12 [&amp;&gt;li&gt;strong]:block [&amp;&gt;li&gt;strong]:text-[25px] [&amp;&gt;li&gt;em]:not-italic [&amp;&gt;li&gt;em]:text-[40px]"><li><strong>Total Distance</strong><em>100KM +</em></li><li><strong>Five Different</strong><em>Places</em></li><li><strong>Five Different</strong><em>Summits</em></li><li><strong>Grade</strong><em>Challenging</em></li></ul></div></section>',1)),e("div",pe,[e("div",ge,[e("div",ve,[e("div",{class:"mb-6 leading-7 content_editor",innerHTML:s(o).event.description},null,8,fe),(a(!0),l(f,null,x(s(o).stage_categories,w=>(a(),l("div",he,[e("strong",null,c(w.name)+" GPX file: ",1),k(L,{to:s(U)(w.map_file.file_name)},{default:g(()=>[k(r,{type:"button",variant:"secondary",class:"rounded-full",modifier:"outline"},{default:g(()=>[k(s(W)),t[1]||(t[1]=A(" Download GPX ",-1))]),_:1})]),_:1},8,["to"])]))),256))]),e("div",ye,[e("figure",xe,[e("img",{src:s(ne)},null,8,be)]),t[2]||(t[2]=e("strong",{class:"uppercase tracking-wide text-3xl leading-10 block mb-5"}," If you are an Elite Athlete, please register for free. ",-1)),t[3]||(t[3]=e("p",{class:"text-gray-500 mb-1"},"Eligibility for elite athletes is as follows:",-1)),t[4]||(t[4]=e("ul",{class:"space-y-3 pb-10 mb-10 border-b-4 border-secondary"},[e("li",null,"Men’s Category: Minimum 750 ITRA points"),e("li",null,"Women’s Category: Minimum 600 ITRA points"),e("li",null,"Please make sure to upload your ITRA profile link in the payment section.")],-1)),t[5]||(t[5]=e("strong",{class:"tracking-wide text-xl block mb-5"}," #3 Result will be updated here after the race. ",-1))])])]),e("section",we,[e("figure",ke,[e("img",{src:s(ae)},null,8,Me)]),e("div",Se,[e("div",Te,[s(u)&&!s(p)?(a(),T(C,{key:0,date:s(u),class:"mb-3"},{default:g(()=>[...t[6]||(t[6]=[e("em",{class:"not-italic block"},"Race starts in",-1)])]),_:1},8,["date"])):v("",!0),s(d)&&!s(i)?(a(),T(C,{key:1,date:s(d).endOf("day"),class:"mb-3"},{default:g(()=>[...t[7]||(t[7]=[e("em",{class:"not-italic block"},"Will end in",-1)])]),_:1},8,["date"])):v("",!0),k(L,{to:{name:"races-slug-runner",params:{slug:s(o).event.slug},query:{stage_id:s(o).id}},"as-child":""},{default:g(()=>[s(i)?v("",!0):(a(),T(r,{key:0,type:"button",variant:"secondary",size:"lg",class:"w-[200px] rounded-full"},{default:g(()=>[...t[8]||(t[8]=[A("Register now",-1)])]),_:1}))]),_:1},8,["to"]),s(i)?(a(),l("strong",Re,"Registration closed")):v("",!0)])])])],64)):(a(),l("span",$e,"loading..."))}}});export{ze as default};

import{_ as N,a as L,b as R,c as U,d as T}from"./5o-X49G4.js";import{_ as D}from"./BAFE0boa.js";import{F as p,E as I,a as z}from"./Ik6sADHB.js";import{a as M}from"./DCVC01Q_.js";import{e as j,r as v,N as g,I as q,m as A,D as c,w as t,E as e,o as r,b as s,a as G,c as H,F as J,z as K,d as S,t as O,C as P}from"./CMjavVp8.js";import{L as Q}from"./cRn6fn_Q.js";const W={class:"text-right"},te=j({__name:"roleForm",props:{user:{}},emits:["update"],setup(h,{emit:V}){const m=h,i=v(),b=V,{assignUserRole:y}=g(),{roles:x}=q(g()),n=v(!1),C=async a=>{n.value=!0,console.log(a),await y(a),n.value=!1,b("update")};return A(()=>{var a,o,l;i.value&&i.value.setValues({user_id:(a=m.user)==null?void 0:a.id,role_id:(l=(o=m.user)==null?void 0:o.role)==null?void 0:l.id})}),(a,o)=>{const l=R,F=L,$=T,k=U,w=N,B=D;return r(),c(e(z),{"validation-schema":e(M),onSubmit:C,class:"flex flex-col gap-4",ref_key:"form",ref:i},{default:t(()=>{var d;return[s(e(p),{type:"hidden",name:"user_id",value:(d=a.user)==null?void 0:d.id},null,8,["value"]),s(e(p),{name:"role_id"},{default:t(({handleChange:E})=>{var u,_;return[s(w,{"onUpdate:modelValue":E,"default-value":(_=(u=a.user)==null?void 0:u.role)==null?void 0:_.id},{default:t(()=>[s(F,null,{default:t(()=>[s(l,{placeholder:"Change role"})]),_:1}),s(k,null,{default:t(()=>[(r(!0),H(J,null,K(e(x),f=>(r(),c($,{value:f.id},{default:t(()=>[S(O(f.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:2},1032,["onUpdate:modelValue","default-value"]),s(e(I),{name:"role_id"})]}),_:1}),G("div",W,[s(B,{variant:"secondary",type:"submit",class:"w-[180px]",disabled:e(n)},{default:t(()=>[e(n)?(r(),c(e(Q),{key:0,class:"animate-spin relative"})):P("",!0),o[0]||(o[0]=S(" Update details "))]),_:1,__:[0]},8,["disabled"])])]}),_:1},8,["validation-schema"])}}});export{te as _};

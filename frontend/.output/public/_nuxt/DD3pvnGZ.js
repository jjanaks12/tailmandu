import{_ as B,a as C,b as E,c as L,d as N}from"./DfwiDdUj.js";import{_ as R}from"./DhmB0p6i.js";import{a as u,E as U,F as T}from"./ZkvbBL6y.js";import{a as D}from"./B3voQtWI.js";import{e as I,r as _,ah as f,s as M,m as j,f as c,w as t,g as e,o,b as a,a as q,c as z,F as A,v as G,d as p,t as H,h as J}from"./D91ZHywZ.js";import{L as K}from"./CjUBKsF-.js";const O={class:"text-right"},ee=I({__name:"roleForm",props:{user:{}},emits:["update"],setup(n,{emit:v}){const i=n,l=_(),g=v,{assignUserRole:h}=f(),{roles:S}=M(f()),s=_(!1),x=async r=>{s.value=!0,console.log(r),await h(r),s.value=!1,g("update")};return j(()=>{l.value&&l.value.setValues({user_id:i.user?.id,role_id:i.user?.role?.id})}),(r,m)=>{const V=E,b=C,y=N,F=L,$=B,k=R;return o(),c(e(T),{"validation-schema":e(D),onSubmit:x,class:"flex flex-col gap-4",ref_key:"form",ref:l},{default:t(()=>[a(e(u),{type:"hidden",name:"user_id",value:n.user?.id},null,8,["value"]),a(e(u),{name:"role_id"},{default:t(({handleChange:w})=>[a($,{"onUpdate:modelValue":w,"default-value":n.user?.role?.id},{default:t(()=>[a(b,null,{default:t(()=>[a(V,{placeholder:"Change role"})]),_:1}),a(F,null,{default:t(()=>[(o(!0),z(A,null,G(e(S),d=>(o(),c(y,{value:d.id},{default:t(()=>[p(H(d.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:1},8,["onUpdate:modelValue","default-value"]),a(e(U),{name:"role_id"})]),_:1}),q("div",O,[a(k,{variant:"secondary",type:"submit",class:"w-[180px]",disabled:e(s)},{default:t(()=>[e(s)?(o(),c(e(K),{key:0,class:"animate-spin relative"})):J("",!0),m[0]||(m[0]=p(" Update details ",-1))]),_:1},8,["disabled"])])]),_:1},8,["validation-schema"])}}});export{ee as _};

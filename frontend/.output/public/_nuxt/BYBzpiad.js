import{u as L,_ as O}from"./C5kvzf0a.js";import{_ as Y,a as G,b as K,c as Q,d as W,e as X}from"./yBBdB1dc.js";import{_ as Z,a as h,b as tt,c as et}from"./AWbCc7WW.js";import{_ as ot,a as lt,b as nt,c as st}from"./BKX4WK3S.js";import{c as at}from"./CPYLdFy8.js";import{e as S,c as _,o as a,v as rt,g as l,J as it,s as ut,a6 as E,r as $,q as mt,a as m,b as e,d as n,w as o,F as b,x as M,f as D,t as d,h as N}from"./qg68g3Ym.js";import{_ as _t}from"./5xcgHWN7.js";import{_ as pt}from"./DHQngA82.js";import{h as dt}from"./B1JEaRz-.js";import{u as ft}from"./p0r3EQlb.js";import{S as ct,E as gt}from"./BjmBWiYe.js";import{P as vt}from"./Bh7XGYg1.js";import{P as xt,T as $t}from"./DL5GKlR4.js";import"./CZ-43qDQ.js";import"./MuqVyNMF.js";import"./BDnat4bi.js";import"./K4mxSTIr.js";import"./DBGsIv44.js";import"./C6Y-ieo6.js";import"./CeVFgQ6p.js";import"./CVDjTR8R.js";import"./ymUjhs8s.js";import"./Cbfs0QR5.js";import"./XeUdO5dH.js";import"./DiU-Texi.js";import"./2ZmUPStG.js";import"./CNmloGOb.js";import"./BfZAl00a.js";import"./icFVUt9b.js";import"./Bjp2U9BR.js";import"./DJ8eIciF.js";import"./CQ3lKrei.js";import"./B7XZuiwR.js";const bt=S({__name:"DialogFooter",props:{class:{}},setup(C){const p=C;return(f,c)=>(a(),_("div",{"data-slot":"dialog-footer",class:rt(l(at)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",p.class))},[it(f.$slots,"default")],2))}}),Dt={class:"flex gap-4 mb-20"},Ct={class:"flex-grow"},wt={class:"flex gap-2 mb-4"},kt={class:"block text-xl mb-2"},yt={class:"flex flex-wrap gap-1"},Tt={class:"bg-primary text-white px-3 py-1 text-sm rounded-xl"},re=S({__name:"index",setup(C){ft({title:"Roles"});const{can:p}=L(),{roles:f}=ut(E()),{fetch:c,destory:V}=E(),i=$(!1),s=$(null),u=$(!1);return mt(()=>{c()}),(Rt,t)=>{const g=O,v=Q,w=K,F=G,x=X,A=h,k=et,H=tt,P=Z,z=W,U=Y,y=nt,T=st,R=lt,B=ot,j=_t,q=bt;return a(),_(b,null,[m("div",Dt,[m("div",Ct,[m("div",wt,[e(l(ct)),t[6]||(t[6]=n(" Filters ",-1))])]),e(g,{onClick:t[0]||(t[0]=r=>i.value=!0),permissions:"role_create"},{default:o(()=>[e(l(vt)),t[7]||(t[7]=n(" Add a role ",-1))]),_:1})]),e(U,null,{default:o(()=>[e(F,null,{default:o(()=>[e(w,null,{default:o(()=>[e(v,null,{default:o(()=>[...t[8]||(t[8]=[n("SN",-1)])]),_:1}),e(v,null,{default:o(()=>[...t[9]||(t[9]=[n("Name",-1)])]),_:1}),e(v,{class:"text-right"},{default:o(()=>[...t[10]||(t[10]=[n("Actions",-1)])]),_:1})]),_:1})]),_:1}),e(z,null,{default:o(()=>[(a(!0),_(b,null,M(l(f),(r,I)=>(a(),D(w,null,{default:o(()=>[e(x,null,{default:o(()=>[n(d(I+1),1)]),_:2},1024),e(x,null,{default:o(()=>[m("strong",kt,d(r.name),1),m("ul",yt,[(a(!0),_(b,null,M(r.permissions,J=>(a(),_("li",Tt,d(l(dt)(J.name)),1))),256))])]),_:2},1024),e(x,{class:"text-right"},{default:o(()=>[e(P,null,{default:o(()=>[e(A,null,{default:o(()=>[e(l(gt))]),_:1}),e(H,null,{default:o(()=>[l(p)("role_edit")?(a(),D(k,{key:0,onClick:()=>{i.value=!0,s.value=r}},{default:o(()=>[e(l(xt)),t[11]||(t[11]=n(" Edit ",-1))]),_:2},1032,["onClick"])):N("",!0),l(p)("role_delete")?(a(),D(k,{key:1,onClick:()=>{u.value=!0,s.value=r}},{default:o(()=>[e(l($t)),t[12]||(t[12]=n(" Delete ",-1))]),_:2},1032,["onClick"])):N("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),e(B,{open:l(i),"onUpdate:open":t[2]||(t[2]=()=>{i.value=!1,s.value=null})},{default:o(()=>[e(R,{class:"bg-white"},{default:o(()=>[e(y,null,{default:o(()=>[n("Edit "+d(l(s)?.name),1)]),_:1}),e(T,null,{default:o(()=>[...t[13]||(t[13]=[n("Modify existing role details to update user permissions and access rights. ",-1)])]),_:1}),e(pt,{role:l(s),onUpdate:t[1]||(t[1]=()=>{i.value=!1,s.value=null})},null,8,["role"])]),_:1})]),_:1},8,["open"]),e(B,{open:l(u),"onUpdate:open":t[5]||(t[5]=r=>{u.value=r,s.value=null})},{default:o(()=>[e(R,{class:"bg-white"},{default:o(()=>[e(j,null,{default:o(()=>[e(y,null,{default:o(()=>[...t[14]||(t[14]=[n("Are you sure?",-1)])]),_:1}),e(T,null,{default:o(()=>[...t[15]||(t[15]=[n(" Once deleted cannot be un done. ",-1)])]),_:1})]),_:1}),e(q,null,{default:o(()=>[e(g,{variant:"destructive",onClick:t[3]||(t[3]=()=>{u.value=!1,s.value=null})},{default:o(()=>[...t[16]||(t[16]=[n("Cancel",-1)])]),_:1}),e(g,{variant:"secondary",onClick:t[4]||(t[4]=async()=>{await l(V)(l(s)?.id),u.value=!1,s.value=null,l(c)()})},{default:o(()=>[...t[17]||(t[17]=[n("Yes, delete it",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64)}}});export{re as default};

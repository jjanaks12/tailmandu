import{_ as z,a as J,b as K,c as Q}from"./0kkk6ril.js";import{_ as W}from"./DiU-Texi.js";import{$ as X,_ as Z}from"./Bd6GeqFA.js";import{_ as ee,a as ae,b as le,c as se,d as te}from"./CHnIA0z0.js";import{_ as oe}from"./C5kvzf0a.js";import{e as ne,A as D,s as M,C as ie,r as P,E as re,V as E,q as de,c as g,a,b as e,w as t,g as l,F as h,y as _e,i as me,o as m,d as v,t as x,m as u,x as S,f as b,h as ue}from"./qg68g3Ym.js";import{a as r,E as d,F as ce}from"./DJ8eIciF.js";import{c as fe}from"./BlES7hFh.js";import{u as pe}from"./p0r3EQlb.js";import{I as k,V as ve,B as ge}from"./Dfh2Ym4f.js";import{M as he,P as xe,F as be}from"./Bfr6yTbk.js";import{C as ye}from"./DAf9RqDg.js";import{L as we}from"./B7XZuiwR.js";import"./CPYLdFy8.js";import"./K4mxSTIr.js";import"./CZ-43qDQ.js";import"./BDnat4bi.js";import"./MuqVyNMF.js";import"./DBGsIv44.js";import"./CeVFgQ6p.js";import"./ymUjhs8s.js";import"./kRIii9yh.js";import"./CXAladg1.js";import"./B6XzT2dZ.js";import"./Bjp2U9BR.js";import"./BfZAl00a.js";const Fe={class:"self-center mb-16"},Ve={class:"flex space-x-8"},$e={class:"w-1/3"},Se={class:"flex gap-2"},ke={class:"flex-grow"},Ae={class:"w-1/3"},Be={class:"flex gap-2"},Ce={class:"flex-grow"},De={class:"w-1/3"},Me={class:"flex gap-2"},Pe={class:"flex-grow"},Ee={class:"flex space-x-8"},Ie={class:"w-1/2"},Le={class:"flex gap-2"},Ne={class:"flex-grow"},Ye={class:"w-1/2"},Re={class:"flex gap-2"},Te={class:"flex-grow"},Ue={class:"flex gap-2"},He={class:"flex-grow"},je={class:"flex space-x-8"},qe={class:"w-1/3"},Ge={class:"flex gap-2"},Oe={class:"flex-grow"},ze={class:"w-1/3"},Je={class:"flex gap-2"},Ke={class:"flex-grow"},Qe={class:"w-1/3"},We={class:"flex gap-2"},Xe={class:"flex-grow"},Ze={class:"text-right"},Aa=ne({__name:"personal_details",setup(ea){pe({title:"Personal details"});const{updateDetail:I}=D(),{isLoading:A,user:o,fullName:L}=M(D()),{genders:N,countries:Y,age_categories:R}=M(ie()),i=P(null),c=P(),T=re(()=>me(o.value?.personal?.avatar?.file_name)),B=()=>{i.value!==null&&o.value!==null&&(i.value.setFieldValue("first_name",o.value.personal.first_name),i.value.setFieldValue("middle_name",o.value.personal.middle_name||""),i.value.setFieldValue("last_name",o.value.personal.last_name),i.value.setFieldValue("email",o.value.personal.email),i.value.setFieldValue("gender_id",o.value.personal.gender_id),i.value.setFieldValue("country_id",o.value.personal.country_id),i.value.setFieldValue("age_category_id",o.value.personal.age_category_id),i.value.setFieldValue("phone_number",o.value.personal.phone_number),i.value.setFieldValue("image_id",o.value.personal?.image_id),o.value.personal.date_of_birth&&(i.value.setFieldValue("date_of_birth",o.value.personal.date_of_birth),c.value=X(_e(o.value.personal.date_of_birth).format("YYYY-MM-DD"))))},U=C=>{const s=C.target.files;if(!s)return;const f=new FileReader;s[0]&&(f.readAsDataURL(s[0]),f.onload=()=>{i.value?.setFieldValue("image",f.result)})};return E(c,()=>{i.value&&i.value.setFieldValue("date_of_birth",`${c.value.year}-${c.value.month}-${c.value.day}`)}),E(o,()=>{B()}),de(()=>{B()}),(C,s)=>{const f=J,H=K,j=z,p=W,q=Z,y=le,w=ae,F=te,V=se,$=ee,G=oe;return m(),g(h,null,[s[11]||(s[11]=a("div",{class:"text-sm mb-4"},[a("h1",{class:"text-black text-xl"},"Personal details"),a("p",null,"Enter your personal details below to update your account information.")],-1)),e(l(ce),{"validation-schema":l(fe),method:"post",onSubmit:l(I),class:"max-w-[820px] flex flex-col space-y-4",ref_key:"form",ref:i},{default:t(({values:O,errors:aa})=>[a("label",Fe,[e(j,{class:"w-[180px] h-[180px] bg-gray-300"},{default:t(()=>[e(f,{src:O.image||l(T)||"",class:"object-cover"},null,8,["src"]),e(H,{class:"text-4xl"},{default:t(()=>[v(x(l(Q)(l(L))),1)]),_:1})]),_:2},1024),a("input",{type:"file",onChange:U,class:"sr-only",accept:"image/*"},null,32)]),a("div",Ve,[a("div",$e,[e(l(r),{name:"first_name"},{default:t(({field:n})=>[s[1]||(s[1]=a("label",{class:"sr-only",for:"lf__first_name"},"First name",-1)),a("div",Se,[e(l(k),{class:"mt-3"}),a("div",ke,[e(p,u({type:"text"},n,{placeholder:"First name",id:"lf__first_name",autocomplete:"given-name"}),null,16),e(l(d),{name:"first_name"})])])]),_:1})]),a("div",Ae,[e(l(r),{name:"middle_name"},{default:t(({field:n})=>[s[2]||(s[2]=a("label",{class:"sr-only",for:"lf__middle_name"},"Middle name",-1)),a("div",Be,[e(l(k),{class:"mt-3"}),a("div",Ce,[e(p,u({type:"text"},n,{placeholder:"Middle name",id:"lf__middle_name"}),null,16),e(l(d),{name:"middle_name"})])])]),_:1})]),a("div",De,[e(l(r),{name:"last_name"},{default:t(({field:n})=>[s[3]||(s[3]=a("label",{class:"sr-only",for:"lf__last_name"},"Last name",-1)),a("div",Me,[e(l(k),{class:"mt-3"}),a("div",Pe,[e(p,u({type:"text"},n,{placeholder:"Last name",id:"lf__last_name",autocomplete:"given-name"}),null,16),e(l(d),{name:"last_name"})])])]),_:1})])]),a("div",Ee,[a("div",Ie,[e(l(r),{name:"email"},{default:t(({field:n})=>[s[4]||(s[4]=a("label",{class:"sr-only",for:"lf__email"},"Email",-1)),a("div",Le,[e(l(he),{class:"mt-3"}),a("div",Ne,[e(p,u({type:"email"},n,{placeholder:"Email",id:"lf__email",autocomplete:"email",disabled:""}),null,16),e(l(d),{name:"email"})])])]),_:1})]),a("div",Ye,[e(l(r),{name:"phone_number"},{default:t(({field:n})=>[s[5]||(s[5]=a("label",{class:"sr-only",for:"lf__phone_number"},"Phone number",-1)),a("div",Re,[e(l(xe),{class:"mt-3"}),a("div",Te,[e(p,u({type:"text"},n,{placeholder:"Phone number",id:"lf__phone_number",autocomplete:"mobile"}),null,16),e(l(d),{name:"phone_number"})])])]),_:1})])]),e(l(r),{name:"date_of_birth"},{default:t(()=>[s[6]||(s[6]=a("label",{class:"sr-only",for:"lf__date_of_birth"},"Date of birth",-1)),a("div",Ue,[e(l(ye),{class:"mt-3"}),a("div",He,[e(q,{label:"Date of Birth","model-value":l(c),"onUpdate:modelValue":s[0]||(s[0]=n=>c.value=n)},null,8,["model-value"]),e(l(d),{name:"date_of_birth"})])])]),_:1}),a("div",je,[a("div",qe,[e(l(r),{name:"gender_id",id:"lf__gender"},{default:t(({field:n})=>[s[7]||(s[7]=a("label",{class:"sr-only",for:"lf__gender"},"Gender",-1)),a("div",Ge,[e(l(ve),{class:"mt-3"}),a("div",Oe,[e($,u(n,{autocomplete:"sex","default-value":l(o)?.personal.gender_id}),{default:t(()=>[e(w,{class:"w-full"},{default:t(()=>[e(y,{placeholder:"Select a gender"})]),_:1}),e(V,null,{default:t(()=>[(m(!0),g(h,null,S(l(N),_=>(m(),b(F,{value:_.id},{default:t(()=>[v(x(_.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:2},1040,["default-value"]),e(l(d),{name:"gender_id"})])])]),_:1})]),a("div",ze,[e(l(r),{name:"country_id"},{default:t(({field:n})=>[s[8]||(s[8]=a("label",{class:"sr-only",for:"lf__country"},"Country",-1)),a("div",Je,[e(l(be),{class:"mt-3"}),a("div",Ke,[e($,u(n,{autocomplete:"sex",id:"lf__country","default-value":l(o)?.personal.country_id}),{default:t(()=>[e(w,{class:"w-full"},{default:t(()=>[e(y,{placeholder:"Select a country"})]),_:1}),e(V,null,{default:t(()=>[(m(!0),g(h,null,S(l(Y),_=>(m(),b(F,{value:_.id},{default:t(()=>[v(x(_.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:2},1040,["default-value"]),e(l(d),{name:"country_id"})])])]),_:1})]),a("div",Qe,[e(l(r),{name:"age_category_id"},{default:t(({field:n})=>[s[9]||(s[9]=a("label",{class:"sr-only",for:"lf__age_category_id"},"Age category",-1)),a("div",We,[e(l(ge),{class:"mt-3"}),a("div",Xe,[e($,u(n,{autocomplete:"sex",id:"lf__country","default-value":l(o)?.personal.age_category_id}),{default:t(()=>[e(w,{class:"w-full"},{default:t(()=>[e(y,{placeholder:"Select an age group"})]),_:1}),e(V,null,{default:t(()=>[(m(!0),g(h,null,S(l(R),_=>(m(),b(F,{value:_.id},{default:t(()=>[v(x(_.name),1)]),_:2},1032,["value"]))),256))]),_:1})]),_:2},1040,["default-value"]),e(l(d),{name:"age_category_id"})])])]),_:1})])]),a("div",Ze,[e(G,{variant:"secondary",type:"submit",class:"w-[180px]",disabled:l(A)},{default:t(()=>[l(A)?(m(),b(l(we),{key:0,class:"animate-spin relative"})):ue("",!0),s[10]||(s[10]=v(" Update details ",-1))]),_:1},8,["disabled"])])]),_:1},8,["validation-schema","onSubmit"])],64)}}});export{Aa as default};

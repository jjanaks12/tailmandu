import{_ as E,a as T,b as j,c as J}from"./0kkk6ril.js";import{_ as K}from"./BpDApRAD.js";import{e as p,c as u,o as r,J as $,v as C,g as t,f as _,w as s,a9 as O,s as k,A as m,E as U,i as q,b as a,a as S,d as h,t as d,r as Q,x as B,h as w,F as N}from"./qg68g3Ym.js";import{_ as W,a as X,b as Y,c as Z,d as ss,e as es,f as as,g as ts}from"./BzO75yL8.js";import{c as A}from"./CPYLdFy8.js";import{P as os}from"./CZ-43qDQ.js";import{_ as ns}from"./CJQ92kjL.js";import{u as rs,_ as is}from"./C5kvzf0a.js";import{_ as ls}from"./C-dGikYD.js";import{L as cs}from"./B7XZuiwR.js";const _s=p({__name:"SidebarFooter",props:{class:{}},setup(i){const n=i;return(o,l)=>(r(),u("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",class:C(t(A)("flex flex-col gap-2 p-2",n.class))},[$(o.$slots,"default")],2))}}),ds=p({__name:"SidebarGroupLabel",props:{asChild:{type:Boolean},as:{},class:{}},setup(i){const n=i;return(o,l)=>(r(),_(t(os),{"data-slot":"sidebar-group-label","data-sidebar":"group-label",as:o.as,"as-child":o.asChild,class:C(t(A)("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n.class))},{default:s(()=>[$(o.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),us=p({__name:"SidebarHeader",props:{class:{}},setup(i){const n=i;return(o,l)=>(r(),u("div",{"data-slot":"sidebar-header","data-sidebar":"header",class:C(t(A)("flex flex-col gap-2 p-2",n.class))},[$(o.$slots,"default")],2))}}),ps={class:"flex items-center gap-2 py-[3px]"},ms={class:"flex-grow"},hs={class:"block"},fs=p({__name:"AuthUser",setup(i){const{public:{appName:n}}=O(),{user:o,fullName:l,role:e}=k(m()),c=U(()=>q(o.value?.personal?.avatar?.file_name));return(M,L)=>{const f=T,g=j,b=E,v=K;return r(),u("div",ps,[a(b,{class:"w-[60px] h-[60px]"},{default:s(()=>[a(f,{src:t(c),class:"object-cover"},null,8,["src"]),a(g,null,{default:s(()=>[h(d(t(J)(t(l))),1)]),_:1})]),_:1}),S("div",ms,[S("strong",hs,d(t(l)||t(n)),1),a(v,{variant:"secondary"},{default:s(()=>[h(d(t(e)||"user"),1)]),_:1})])])}}}),gs=()=>{const i=Q([{title:"",path:"",slug:"",permissions:[],subMenu:[{title:"Dashboard",icon:"LayoutDashboardIcon",slug:"dashboard",path:"/dashboard",permissions:"*"}]},{title:"Users",path:"",slug:"users",permissions:[],subMenu:[{title:"Users",icon:"Users",slug:"users",path:"/dashboard/users",permissions:"manage_user"},{title:"Events",icon:"Calendar1",slug:"events",path:"/dashboard/events",permissions:"manage_event"},{title:"Roles",icon:"ShieldCheck",slug:"roles",path:"/dashboard/roles",permissions:"manage_role"},{title:"Permissions",icon:"ShieldUser",slug:"permissions",path:"/dashboard/permissions",permissions:"manage_permission"}]},{title:"Miscellanous",path:"",slug:"extras",permissions:"",role:"Admin",subMenu:[{title:"Countries",path:"/dashboard/countries",slug:"countries",icon:"Flag",permissions:""},{title:"Genders",path:"/dashboard/gender",slug:"gender",icon:"VenusAndMars",permissions:""},{title:"Age category",path:"/dashboard/age_category",slug:"age_category",icon:"Baby",permissions:""},{title:"T-Shirt sizes",path:"/dashboard/tshirt_sizes",slug:"age_category",icon:"Shirt",permissions:""}]},{title:"Settings",path:"",slug:"settings",permissions:[],subMenu:[{title:"Change password",path:"/dashboard/change_password",slug:"change_password",icon:"KeyRound",role:"Admin",permissions:"*"},{title:"Personal details",path:"/dashboard/personal_details",slug:"personal_details",icon:"UserPen",role:"Admin",permissions:"*"},{title:"Company",path:"/dashboard/company",slug:"company",icon:"Building",permissions:"manage_company"},{title:"Health Check",path:"/dashboard/health_check",slug:"health_check",icon:"HandHeart",role:"Admin",permissions:"manage_company"}]}]),{can:n}=rs(),{user:o}=k(m());return{menuList:U(()=>i.value.map(e=>e.role?e.role==o.value?.role?.name?e:null:e.permissions.length>0?n(e.permissions)?e:null:{...e,subMenu:e.subMenu?.map(c=>n(c.permissions)?{...c}:null).filter(c=>c!=null)}).filter(e=>e==null?!1:e.subMenu&&e.subMenu.length>0))}},Ls=p({__name:"_sidebar",setup(i){const{menuList:n}=gs(),{logout:o}=m(),{isLoading:l}=k(m());return(e,c)=>{const M=fs,L=us,f=ds,g=as,b=ns,v=es,F=ss,z=Z,G=Y,H=X,I=W,P=is,V=_s,R=ts,D=ls;return r(),_(D,null,{default:s(()=>[a(R,{class:"admin"},{default:s(()=>[a(L,null,{default:s(()=>[a(M)]),_:1}),a(I,null,{default:s(()=>[(r(!0),u(N,null,B(t(n),x=>(r(),_(H,{class:"bg-gray-200"},{default:s(()=>[x.title?(r(),_(f,{key:0},{default:s(()=>[h(d(x.title),1)]),_:2},1024)):w("",!0),a(G,null,{default:s(()=>[a(z,null,{default:s(()=>[(r(!0),u(N,null,B(x.subMenu,y=>(r(),_(F,null,{default:s(()=>[a(v,{"as-child":""},{default:s(()=>[a(b,{to:y.path},{default:s(()=>[a(g,{name:y.icon},null,8,["name"]),S("span",null,d(y.title),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1}),a(V,null,{default:s(()=>[a(P,{variant:"destructive",onClick:t(o),disabled:t(l)},{default:s(()=>[c[0]||(c[0]=h(" Logout ",-1)),t(l)?(r(),_(t(cs),{key:0,class:"animate-spin relative"})):w("",!0)]),_:1},8,["onClick","disabled"])]),_:1})]),_:1})]),_:1})}}});export{Ls as _};

import{_ as H,a as D,b as T,c as j}from"./C9wLNaWu.js";import{_ as K}from"./YaS_LA93.js";import{e as g,W as O,I as C,H as b,h as N,Q,c as f,o as i,b as e,a as y,w as s,E as t,d as h,t as m,s as k,G as A,D as p,r as W,z as B,F as w,C as q}from"./CMjavVp8.js";import{_ as J,a as X,b as Y,c as Z,d as ss,e as es,f as as,g as ts}from"./CNSb1F21.js";import{c as M}from"./bRKmu4jq.js";import{P as ns}from"./xAYzgGwh.js";import{_ as os}from"./BNgYPqNG.js";import{_ as rs}from"./BAFE0boa.js";import{_ as is}from"./DQDQivXT.js";import{u as ls}from"./DzOswS_p.js";import{L as cs}from"./cRn6fn_Q.js";const _s={class:"flex items-center gap-2 py-[3px]"},us={class:"flex-grow"},ds={class:"block"},ps=g({__name:"AuthUser",setup(l){const{public:{appName:o}}=O(),{user:n,fullName:c,role:a}=C(b()),d=N(()=>{var _,u,r;return Q((r=(u=(_=n.value)==null?void 0:_.personal)==null?void 0:u.avatar)==null?void 0:r.file_name)});return(_,u)=>{const r=D,v=T,x=H,$=K;return i(),f("div",_s,[e(x,{class:"w-[60px] h-[60px]"},{default:s(()=>[e(r,{src:t(d),class:"object-cover"},null,8,["src"]),e(v,null,{default:s(()=>[h(m(t(j)(t(c))),1)]),_:1})]),_:1}),y("div",us,[y("strong",ds,m(t(c)||t(o)),1),e($,{variant:"secondary"},{default:s(()=>[h(m(t(a)||"user"),1)]),_:1})])])}}}),ms=g({__name:"SidebarFooter",props:{class:{}},setup(l){const o=l;return(n,c)=>(i(),f("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",class:A(t(M)("flex flex-col gap-2 p-2",o.class))},[k(n.$slots,"default")],2))}}),fs=g({__name:"SidebarGroupLabel",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const o=l;return(n,c)=>(i(),p(t(ns),{"data-slot":"sidebar-group-label","data-sidebar":"group-label",as:n.as,"as-child":n.asChild,class:A(t(M)("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",o.class))},{default:s(()=>[k(n.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),gs=g({__name:"SidebarHeader",props:{class:{}},setup(l){const o=l;return(n,c)=>(i(),f("div",{"data-slot":"sidebar-header","data-sidebar":"header",class:A(t(M)("flex flex-col gap-2 p-2",o.class))},[k(n.$slots,"default")],2))}}),bs=()=>{const l=W([{title:"Users",path:"",slug:"users",permissions:[],subMenu:[{title:"Users",icon:"Users",slug:"users",path:"/dashboard/users",permissions:"manage_user"},{title:"Events",icon:"Calendar1",slug:"events",path:"/dashboard/events",permissions:"manage_event"},{title:"Roles",icon:"ShieldCheck",slug:"roles",path:"/dashboard/roles",permissions:"manage_role"},{title:"Permissions",icon:"ShieldUser",slug:"permissions",path:"/dashboard/permissions",permissions:"manage_permission"}]},{title:"Miscellanous",path:"",slug:"extras",permissions:"",role:"Admin",subMenu:[{title:"Countries",path:"/dashboard/countries",slug:"countries",icon:"Flag",permissions:""},{title:"Genders",path:"/dashboard/gender",slug:"gender",icon:"VenusAndMars",permissions:""},{title:"Age category",path:"/dashboard/age_category",slug:"age_category",icon:"Baby",permissions:""}]},{title:"Settings",path:"",slug:"settings",permissions:[],subMenu:[{title:"Change password",path:"/dashboard/change_password",slug:"change_password",icon:"KeyRound",role:"Admin",permissions:"*"},{title:"Personal details",path:"/dashboard/personal_details",slug:"personal_details",icon:"UserPen",role:"Admin",permissions:"*"},{title:"Company",path:"/dashboard/company",slug:"company",icon:"Building",permissions:"manage_company"}]}]),{can:o}=ls(),{user:n}=C(b());return{menuList:N(()=>l.value.map(a=>{var d,_,u;return a.role?a.role==((_=(d=n.value)==null?void 0:d.role)==null?void 0:_.name)?a:null:a.permissions.length>0?o(a.permissions)?a:null:{...a,subMenu:(u=a.subMenu)==null?void 0:u.map(r=>o(r.permissions)?{...r}:null).filter(r=>r!=null)}}).filter(a=>a==null?!1:a.subMenu&&a.subMenu.length>0))}},Bs=g({__name:"_sidebar",setup(l){const{menuList:o}=bs(),{logout:n}=b(),{isLoading:c}=C(b());return(a,d)=>{const _=ps,u=gs,r=fs,v=as,x=os,$=es,U=ss,F=Z,G=Y,I=X,P=J,V=rs,z=ms,R=ts,E=is;return i(),p(E,null,{default:s(()=>[e(R,{class:"admin"},{default:s(()=>[e(u,null,{default:s(()=>[e(_)]),_:1}),e(P,null,{default:s(()=>[(i(!0),f(w,null,B(t(o),L=>(i(),p(I,{class:"bg-gray-200"},{default:s(()=>[e(r,null,{default:s(()=>[h(m(L.title),1)]),_:2},1024),e(G,null,{default:s(()=>[e(F,null,{default:s(()=>[(i(!0),f(w,null,B(L.subMenu,S=>(i(),p(U,null,{default:s(()=>[e($,{"as-child":""},{default:s(()=>[e(x,{to:S.path},{default:s(()=>[e(v,{name:S.icon},null,8,["name"]),y("span",null,m(S.title),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1}),e(z,null,{default:s(()=>[e(V,{variant:"destructive",onClick:t(n),disabled:t(c)},{default:s(()=>[d[0]||(d[0]=h(" Logout ")),t(c)?(i(),p(t(cs),{key:0,class:"animate-spin relative"})):q("",!0)]),_:1,__:[0]},8,["onClick","disabled"])]),_:1})]),_:1})]),_:1})}}});export{Bs as _};

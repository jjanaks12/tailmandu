import{_ as E,a as T,b as j}from"./srK4LSmb.js";import{_ as K}from"./DTXbyeut.js";import{e as u,c as _,o as i,N as $,y as C,g as t,f as d,w as s,ai as O,s as k,A as m,E as U,i as q,b as a,a as S,d as h,t as p,r as J,v as L,h as B,F as N}from"./D91ZHywZ.js";import{a as Q}from"./CZanlJpN.js";import{_ as W,a as X,b as Y,c as Z,d as ss,e as es,f as as,g as ts}from"./DWPQ-hz5.js";import{c as A}from"./CPYLdFy8.js";import{P as os}from"./C6WeEH23.js";import{_ as ns}from"./D-lqA9Xr.js";import{u as rs,_ as is}from"./DhmB0p6i.js";import{_ as ls}from"./C6rvZA3M.js";import{L as cs}from"./CjUBKsF-.js";const ds=u({__name:"SidebarFooter",props:{class:{}},setup(n){const o=n;return(r,l)=>(i(),_("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",class:C(t(A)("flex flex-col gap-2 p-2",o.class))},[$(r.$slots,"default")],2))}}),ps=u({__name:"SidebarGroupLabel",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const o=n;return(r,l)=>(i(),d(t(os),{"data-slot":"sidebar-group-label","data-sidebar":"group-label",as:n.as,"as-child":n.asChild,class:C(t(A)("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",o.class))},{default:s(()=>[$(r.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),_s=u({__name:"SidebarHeader",props:{class:{}},setup(n){const o=n;return(r,l)=>(i(),_("div",{"data-slot":"sidebar-header","data-sidebar":"header",class:C(t(A)("flex flex-col gap-2 p-2",o.class))},[$(r.$slots,"default")],2))}}),us={class:"flex items-center gap-2 py-[3px]"},ms={class:"flex-grow"},hs={class:"block"},fs=u({__name:"AuthUser",setup(n){const{public:{appName:o}}=O(),{user:r,fullName:l,role:e}=k(m()),c=U(()=>q(r.value?.personal?.avatar?.file_name));return(M,w)=>{const f=T,g=j,b=E,v=K;return i(),_("div",us,[a(b,{class:"w-[60px] h-[60px]"},{default:s(()=>[a(f,{src:t(c),class:"object-cover"},null,8,["src"]),a(g,null,{default:s(()=>[h(p(t(Q)(t(l))),1)]),_:1})]),_:1}),S("div",ms,[S("strong",hs,p(t(l)||t(o)),1),a(v,{variant:"secondary"},{default:s(()=>[h(p(t(e)||"user"),1)]),_:1})])])}}}),gs=()=>{const n=J([{title:"",path:"",slug:"",permissions:[],subMenu:[{title:"Dashboard",icon:"LayoutDashboardIcon",slug:"dashboard",path:"/dashboard",permissions:"*"}]},{title:"Users",path:"",slug:"users",permissions:[],subMenu:[{title:"Users",icon:"Users",slug:"users",path:"/dashboard/users",permissions:"manage_user"},{title:"Events",icon:"Calendar1",slug:"events",path:"/dashboard/events",permissions:"manage_event"},{title:"Roles",icon:"ShieldCheck",slug:"roles",path:"/dashboard/roles",permissions:"manage_role"},{title:"Permissions",icon:"ShieldUser",slug:"permissions",path:"/dashboard/permissions",permissions:"manage_permission"}]},{title:"Miscellanous",path:"",slug:"extras",permissions:"",role:"Admin",subMenu:[{title:"Countries",path:"/dashboard/countries",slug:"countries",icon:"Flag",permissions:""},{title:"Genders",path:"/dashboard/gender",slug:"gender",icon:"VenusAndMars",permissions:""},{title:"Age category",path:"/dashboard/age_category",slug:"age_category",icon:"Baby",permissions:""},{title:"Sponsor types",path:"/dashboard/sponsor_types",slug:"sponsor_types",icon:"ShieldUser",permissions:""},{title:"T-Shirt sizes",path:"/dashboard/tshirt_sizes",slug:"tshirt_sizes",icon:"Shirt",permissions:""},{title:"Newsletters",path:"/dashboard/newsletter",slug:"newsletter",icon:"NewspaperIcon",permissions:""}]},{title:"Settings",path:"",slug:"settings",permissions:[],subMenu:[{title:"Change password",path:"/dashboard/change_password",slug:"change_password",icon:"KeyRound",role:"Admin",permissions:"*"},{title:"Personal details",path:"/dashboard/personal_details",slug:"personal_details",icon:"UserPen",role:"Admin",permissions:"*"},{title:"Company",path:"/dashboard/company",slug:"company",icon:"Building",permissions:"manage_company"},{title:"Health Check",path:"/dashboard/health_check",slug:"health_check",icon:"HandHeart",role:"Admin",permissions:"manage_company"}]}]),{can:o}=rs(),{user:r}=k(m());return{menuList:U(()=>n.value.map(e=>e.role?e.role==r.value?.role?.name?e:null:e.permissions.length>0?o(e.permissions)?e:null:{...e,subMenu:e.subMenu?.map(c=>o(c.permissions)?{...c}:null).filter(c=>c!=null)}).filter(e=>e==null?!1:e.subMenu&&e.subMenu.length>0))}},Ls=u({__name:"_sidebar",setup(n){const{menuList:o}=gs(),{logout:r}=m(),{isLoading:l}=k(m());return(e,c)=>{const M=fs,w=_s,f=ps,g=as,b=ns,v=es,z=ss,F=Z,I=Y,G=X,H=W,P=is,V=ds,R=ts,D=ls;return i(),d(D,null,{default:s(()=>[a(R,{class:"admin"},{default:s(()=>[a(w,null,{default:s(()=>[a(M)]),_:1}),a(H,null,{default:s(()=>[(i(!0),_(N,null,L(t(o),y=>(i(),d(G,{class:"bg-gray-200"},{default:s(()=>[y.title?(i(),d(f,{key:0},{default:s(()=>[h(p(y.title),1)]),_:2},1024)):B("",!0),a(I,null,{default:s(()=>[a(F,null,{default:s(()=>[(i(!0),_(N,null,L(y.subMenu,x=>(i(),d(z,null,{default:s(()=>[a(v,{"as-child":""},{default:s(()=>[a(b,{to:x.path},{default:s(()=>[a(g,{name:x.icon},null,8,["name"]),S("span",null,p(x.title),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1}),a(V,null,{default:s(()=>[a(P,{variant:"destructive",onClick:t(r),disabled:t(l)},{default:s(()=>[c[0]||(c[0]=h(" Logout ",-1)),t(l)?(i(),d(t(cs),{key:0,class:"animate-spin relative"})):B("",!0)]),_:1},8,["onClick","disabled"])]),_:1})]),_:1})]),_:1})}}});export{Ls as _};

import{i as j,g as b}from"./CzxnmzmQ.js";import{c as $,t as V,i as N,g as L,b as X,d as G,h as z,u as J,j as Q}from"./CeaXpSoW.js";import{E as B,r as S,K as P,b1 as Z,X as x,al as ee,e as K,aR as te,m as O,f as R,o as U,w as ne,N as D,g as W,h as re,b2 as oe}from"./CQTPwDMt.js";import{P as se}from"./BolWmxc9.js";const ae=$(()=>{const e=S(new Map),t=S(),n=B(()=>{for(const c of e.value.values())if(c)return!0;return!1}),o=j({scrollBody:S(!0)});let u=null;const l=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",L&&u?.(),t.value=void 0};return P(n,(c,p)=>{if(!N)return;if(!c){p&&l();return}t.value===void 0&&(t.value=document.body.style.overflow);const i=window.innerWidth-document.documentElement.clientWidth,y={padding:i,margin:0},s=o.scrollBody?.value?typeof o.scrollBody.value=="object"?Z({padding:o.scrollBody.value.padding===!0?i:o.scrollBody.value.padding,margin:o.scrollBody.value.margin===!0?i:o.scrollBody.value.margin},y):y:{padding:0,margin:0};i>0&&(document.body.style.paddingRight=typeof s.padding=="number"?`${s.padding}px`:String(s.padding),document.body.style.marginRight=typeof s.margin=="number"?`${s.margin}px`:String(s.margin),document.documentElement.style.setProperty("--scrollbar-width",`${i}px`),document.body.style.overflow="hidden"),L&&(u=X(document,"touchmove",r=>ue(r),{passive:!1})),x(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function Oe(e){const t=Math.random().toString(36).substring(2,7),n=ae();n.value.set(t,e??!1);const o=B({get:()=>n.value.get(t)??!1,set:u=>n.value.set(t,u)});return V(()=>{n.value.delete(t)}),o}function q(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:q(n)}}function ue(e){const t=e||window.event,n=t.target;return n instanceof Element&&q(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}var ie=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},g=new WeakMap,w=new WeakMap,_={},F=0,H=function(e){return e&&(e.host||H(e.parentNode))},ce=function(e,t){return t.map(function(n){if(e.contains(n))return n;var o=H(n);return o&&e.contains(o)?o:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},le=function(e,t,n,o){var u=ce(t,Array.isArray(e)?e:[e]);_[n]||(_[n]=new WeakMap);var l=_[n],c=[],p=new Set,i=new Set(u),y=function(r){!r||p.has(r)||(p.add(r),y(r.parentNode))};u.forEach(y);var s=function(r){!r||i.has(r)||Array.prototype.forEach.call(r.children,function(a){if(p.has(a))s(a);else try{var v=a.getAttribute(o),f=v!==null&&v!=="false",d=(g.get(a)||0)+1,m=(l.get(a)||0)+1;g.set(a,d),l.set(a,m),c.push(a),d===1&&f&&w.set(a,!0),m===1&&a.setAttribute(n,"true"),f||a.setAttribute(o,"true")}catch(h){console.error("aria-hidden: cannot operate on ",a,h)}})};return s(t),p.clear(),F++,function(){c.forEach(function(r){var a=g.get(r)-1,v=l.get(r)-1;g.set(r,a),l.set(r,v),a||(w.has(r)||r.removeAttribute(o),w.delete(r)),v||r.removeAttribute(n)}),F--,F||(g=new WeakMap,g=new WeakMap,w=new WeakMap,_={})}},fe=function(e,t,n){n===void 0&&(n="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),u=ie(e);return u?(o.push.apply(o,Array.from(u.querySelectorAll("[aria-live], script"))),le(o,u,n,"aria-hidden")):function(){return null}};function Ce(e){let t;P(()=>G(e),n=>{n?t=fe(n):t&&t()}),ee(()=>{t&&t()})}const de=z(()=>S([]));function pe(){const e=de();return{add(t){const n=e.value[0];t!==n&&n?.pause(),e.value=C(e.value,t),e.value.unshift(t)},remove(t){e.value=C(e.value,t),e.value[0]?.resume()}}}function C(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function ve(e){return e.filter(t=>t.tagName!=="A")}const T="focusScope.autoFocusOnMount",A="focusScope.autoFocusOnUnmount",k={bubbles:!1,cancelable:!0};function me(e,{select:t=!1}={}){const n=b();for(const o of e)if(E(o,{select:t}),b()!==n)return!0}function ye(e){const t=Y(e),n=M(t,e),o=M(t.reverse(),e);return[n,o]}function Y(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const u=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||u?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function M(e,t){for(const n of e)if(!he(n,{upTo:t}))return n}function he(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ee(e){return e instanceof HTMLInputElement&&"select"in e}function E(e,{select:t=!1}={}){if(e&&e.focus){const n=b();e.focus({preventScroll:!0}),e!==n&&Ee(e)&&t&&e.select()}}var be=K({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,o=t,{currentRef:u,currentElement:l}=J(),c=S(null),p=pe(),i=te({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});O(s=>{if(!N)return;const r=l.value;if(!n.trapped)return;function a(m){if(i.paused||!r)return;const h=m.target;r.contains(h)?c.value=h:E(c.value,{select:!0})}function v(m){if(i.paused||!r)return;const h=m.relatedTarget;h!==null&&(r.contains(h)||E(c.value,{select:!0}))}function f(m){r.contains(c.value)||E(r)}document.addEventListener("focusin",a),document.addEventListener("focusout",v);const d=new MutationObserver(f);r&&d.observe(r,{childList:!0,subtree:!0}),s(()=>{document.removeEventListener("focusin",a),document.removeEventListener("focusout",v),d.disconnect()})}),O(async s=>{const r=l.value;if(await x(),!r)return;p.add(i);const a=b();if(!r.contains(a)){const f=new CustomEvent(T,k);r.addEventListener(T,d=>o("mountAutoFocus",d)),r.dispatchEvent(f),f.defaultPrevented||(me(ve(Y(r)),{select:!0}),b()===a&&E(r))}s(()=>{r.removeEventListener(T,m=>o("mountAutoFocus",m));const f=new CustomEvent(A,k),d=m=>{o("unmountAutoFocus",m)};r.addEventListener(A,d),r.dispatchEvent(f),setTimeout(()=>{f.defaultPrevented||E(a??document.body,{select:!0}),r.removeEventListener(A,d),p.remove(i)},0)})});function y(s){if(!n.loop&&!n.trapped||i.paused)return;const r=s.key==="Tab"&&!s.altKey&&!s.ctrlKey&&!s.metaKey,a=b();if(r&&a){const v=s.currentTarget,[f,d]=ye(v);f&&d?!s.shiftKey&&a===d?(s.preventDefault(),n.loop&&E(f,{select:!0})):s.shiftKey&&a===f&&(s.preventDefault(),n.loop&&E(d,{select:!0})):a===v&&s.preventDefault()}}return(s,r)=>(U(),R(W(se),{ref_key:"currentRef",ref:u,tabindex:"-1","as-child":s.asChild,as:s.as,onKeydown:y},{default:ne(()=>[D(s.$slots,"default")]),_:3},8,["as-child","as"]))}}),ke=be;const Me="menu.itemSelect",I=["Enter"," "],ge=["ArrowDown","PageUp","Home"],Se=["ArrowUp","PageDown","End"],Ie=[...ge,...Se];[...I],[...I];function Ne(e){return e?"open":"closed"}function Be(e){const t=b();for(const n of e)if(n===t||(n.focus(),b()!==t))return}function we(e,t){const{x:n,y:o}=e;let u=!1;for(let l=0,c=t.length-1;l<t.length;c=l++){const p=t[l].x,i=t[l].y,y=t[c].x,s=t[c].y;i>o!=s>o&&n<(y-p)*(o-i)/(s-i)+p&&(u=!u)}return u}function Pe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return we(n,t)}function xe(e){return e.pointerType==="mouse"}var _e=K({__name:"Teleport",props:{to:{type:null,required:!1,default:"body"},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=Q();return(n,o)=>W(t)||n.forceMount?(U(),R(oe,{key:0,to:n.to,disabled:n.disabled,defer:n.defer},[D(n.$slots,"default")],8,["to","disabled","defer"])):re("v-if",!0)}}),Ke=_e;export{ke as F,Me as I,Se as L,I as S,Ke as T,Ie as a,xe as b,Ce as c,Be as f,Ne as g,Pe as i,Oe as u};

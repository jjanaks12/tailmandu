import{u as O,_ as Y}from"./CYqblDeG.js";import{_ as G,a as J,b as K,c as Q,d as W,e as X}from"./BQUvdYOr.js";import{_ as Z,a as h,b as tt,c as et}from"./M4Y8NSUf.js";import{_ as ot,a as lt,b as nt,c as st}from"./BuH3ov0T.js";import{c as at}from"./CPYLdFy8.js";import{e as S,c as _,o as a,v as rt,g as l,N as it,s as ut,a8 as B,r as $,q as mt,a as m,b as e,d as n,w as o,F as b,x as E,f as D,t as d,h as M}from"./BWYtlrHP.js";import{_ as _t}from"./CIAn11Ei.js";import{_ as pt}from"./BEc2ZHmn.js";import{h as dt}from"./D1YfuqZ-.js";import{u as ft}from"./pvFOUAvB.js";import{S as ct,E as gt}from"./CDW7BRKf.js";import{P as vt}from"./C4TblBlo.js";import{P as xt,T as $t}from"./BsENs-da.js";import"./IQQXW68s.js";import"./BSfqQtg2.js";import"./qK-Ygz8H.js";import"./DHK_nE_D.js";import"./MmWKOBWl.js";import"./DkQOv5sH.js";import"./CsGHxWZ1.js";import"./C6Y-ieo6.js";import"./D5ct0Dmc.js";import"./C7MXhZiL.js";import"./Bs1c9Rm5.js";import"./CeBvLeEG.js";import"./C-0p64mD.js";import"./CO-fVa-8.js";import"./VryhHoaF.js";import"./DPC_7qqc.js";import"./DjqI5AnR.js";import"./CNKI_BAz.js";import"./VAG_O_SR.js";import"./CwtqrsYf.js";import"./BuMKhjKc.js";import"./LkxdYki6.js";const bt=S({__name:"DialogFooter",props:{class:{}},setup(C){const p=C;return(f,c)=>(a(),_("div",{"data-slot":"dialog-footer",class:rt(l(at)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",p.class))},[it(f.$slots,"default")],2))}}),Dt={class:"flex gap-4 mb-20"},Ct={class:"flex-grow"},wt={class:"flex gap-2 mb-4"},kt={class:"block text-xl mb-2"},yt={class:"flex flex-wrap gap-1"},Tt={class:"bg-primary text-white px-3 py-1 text-sm rounded-xl"},ue=S({__name:"index",setup(C){ft({title:"Roles"});const{can:p}=O(),{roles:f}=ut(B()),{fetch:c,destory:V}=B(),i=$(!1),s=$(null),u=$(!1);return mt(()=>{c()}),(Nt,t)=>{const g=Y,v=Q,w=K,F=J,x=X,A=h,k=et,H=tt,P=Z,z=W,U=G,y=nt,T=st,N=lt,R=ot,j=_t,q=bt;return a(),_(b,null,[m("div",Dt,[m("div",Ct,[m("div",wt,[e(l(ct)),t[6]||(t[6]=n(" Filters ",-1))])]),e(g,{onClick:t[0]||(t[0]=r=>i.value=!0),permissions:"role_create"},{default:o(()=>[e(l(vt)),t[7]||(t[7]=n(" Add a role ",-1))]),_:1})]),e(U,null,{default:o(()=>[e(F,null,{default:o(()=>[e(w,null,{default:o(()=>[e(v,null,{default:o(()=>[...t[8]||(t[8]=[n("SN",-1)])]),_:1}),e(v,null,{default:o(()=>[...t[9]||(t[9]=[n("Name",-1)])]),_:1}),e(v,{class:"text-right"},{default:o(()=>[...t[10]||(t[10]=[n("Actions",-1)])]),_:1})]),_:1})]),_:1}),e(z,null,{default:o(()=>[(a(!0),_(b,null,E(l(f),(r,I)=>(a(),D(w,null,{default:o(()=>[e(x,null,{default:o(()=>[n(d(I+1),1)]),_:2},1024),e(x,null,{default:o(()=>[m("strong",kt,d(r.name),1),m("ul",yt,[(a(!0),_(b,null,E(r.permissions,L=>(a(),_("li",Tt,d(l(dt)(L.name)),1))),256))])]),_:2},1024),e(x,{class:"text-right"},{default:o(()=>[e(P,null,{default:o(()=>[e(A,null,{default:o(()=>[e(l(gt))]),_:1}),e(H,null,{default:o(()=>[l(p)("role_edit")?(a(),D(k,{key:0,onClick:()=>{i.value=!0,s.value=r}},{default:o(()=>[e(l(xt)),t[11]||(t[11]=n(" Edit ",-1))]),_:2},1032,["onClick"])):M("",!0),l(p)("role_delete")?(a(),D(k,{key:1,onClick:()=>{u.value=!0,s.value=r}},{default:o(()=>[e(l($t)),t[12]||(t[12]=n(" Delete ",-1))]),_:2},1032,["onClick"])):M("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),e(R,{open:l(i),"onUpdate:open":t[2]||(t[2]=()=>{i.value=!1,s.value=null})},{default:o(()=>[e(N,{class:"bg-white"},{default:o(()=>[e(y,null,{default:o(()=>[n("Edit "+d(l(s)?.name),1)]),_:1}),e(T,null,{default:o(()=>[...t[13]||(t[13]=[n("Modify existing role details to update user permissions and access rights. ",-1)])]),_:1}),e(pt,{role:l(s),onUpdate:t[1]||(t[1]=()=>{i.value=!1,s.value=null})},null,8,["role"])]),_:1})]),_:1},8,["open"]),e(R,{open:l(u),"onUpdate:open":t[5]||(t[5]=r=>{u.value=r,s.value=null})},{default:o(()=>[e(N,{class:"bg-white"},{default:o(()=>[e(j,null,{default:o(()=>[e(y,null,{default:o(()=>[...t[14]||(t[14]=[n("Are you sure?",-1)])]),_:1}),e(T,null,{default:o(()=>[...t[15]||(t[15]=[n(" Once deleted cannot be un done. ",-1)])]),_:1})]),_:1}),e(q,null,{default:o(()=>[e(g,{variant:"destructive",onClick:t[3]||(t[3]=()=>{u.value=!1,s.value=null})},{default:o(()=>[...t[16]||(t[16]=[n("Cancel",-1)])]),_:1}),e(g,{variant:"secondary",onClick:t[4]||(t[4]=async()=>{await l(V)(l(s)?.id),u.value=!1,s.value=null,l(c)()})},{default:o(()=>[...t[17]||(t[17]=[n("Yes, delete it",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64)}}});export{ue as default};

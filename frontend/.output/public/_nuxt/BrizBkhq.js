import{u as O,_ as Y}from"./Dw4pR65e.js";import{_ as q,a as G,b as K,c as Q,d as W,e as X}from"./IoNy3loa.js";import{_ as Z,a as h,b as tt,c as ot}from"./BaxgP5Rq.js";import{_ as et,a as lt,b as nt,c as st}from"./D-Fxp-qX.js";import{c as at}from"./CBfrqCZ4.js";import{e as S,c as _,o as a,M as rt,g as l,E as it,s as ut,a7 as M,r as $,B as mt,a as m,b as o,d as n,w as e,F as b,J as R,f as D,t as d,l as N}from"./CwoOZn_i.js";import{_ as _t}from"./CW0_p_5j.js";import{_ as pt}from"./B0Zno2XZ.js";import{h as dt}from"./B9WKT0kC.js";import{u as ft}from"./D6ldSpn0.js";import{S as ct}from"./BhkSePv6.js";import{P as gt}from"./CvOckxq2.js";import{E as vt}from"./CEJVo9bO.js";import{P as xt,T as $t}from"./Ds1g5d8N.js";import"./B50zHHui.js";import"./DrFvtmkD.js";import"./Ig5ouk6M.js";import"./DN0b0fZi.js";import"./C6Y-ieo6.js";import"./tFDpJnaq.js";import"./CcY35oya.js";import"./BIdMOU1N.js";import"./DsBhoPsV.js";import"./BAcqkrsA.js";import"./B28w5Cdj.js";import"./BR2D6ioD.js";import"./DFoVhR9B.js";import"./u2afDOdU.js";import"./D1ttEr77.js";import"./CHIgUVhi.js";import"./ua0s4eNB.js";import"./qjyHbzIr.js";import"./VVSYG-I8.js";import"./BVwABNE6.js";import"./mR0KLPQM.js";import"./BKpbGE-O.js";const bt=S({__name:"DialogFooter",props:{class:{}},setup(C){const p=C;return(f,c)=>(a(),_("div",{"data-slot":"dialog-footer",class:rt(l(at)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",p.class))},[it(f.$slots,"default")],2))}}),Dt={class:"flex gap-4 mb-20"},Ct={class:"flex-grow"},wt={class:"flex gap-2 mb-4"},kt={class:"block text-xl mb-2"},yt={class:"flex flex-wrap gap-1"},Tt={class:"bg-primary text-white px-3 py-1 text-sm rounded-xl"},mo=S({__name:"index",setup(C){ft({title:"Roles"});const{can:p}=O(),{roles:f}=ut(M()),{fetch:c,destory:V}=M(),i=$(!1),s=$(null),u=$(!1);return mt(()=>{c()}),(Bt,t)=>{const g=Y,v=Q,w=K,F=G,x=X,A=h,k=ot,H=tt,P=Z,z=W,U=q,y=nt,T=st,B=lt,E=et,j=_t,I=bt;return a(),_(b,null,[m("div",Dt,[m("div",Ct,[m("div",wt,[o(l(ct)),t[6]||(t[6]=n(" Filters ",-1))])]),o(g,{onClick:t[0]||(t[0]=r=>i.value=!0),permissions:"role_create"},{default:e(()=>[o(l(gt)),t[7]||(t[7]=n(" Add a role ",-1))]),_:1})]),o(U,null,{default:e(()=>[o(F,null,{default:e(()=>[o(w,null,{default:e(()=>[o(v,null,{default:e(()=>[...t[8]||(t[8]=[n("SN",-1)])]),_:1}),o(v,null,{default:e(()=>[...t[9]||(t[9]=[n("Name",-1)])]),_:1}),o(v,{class:"text-right"},{default:e(()=>[...t[10]||(t[10]=[n("Actions",-1)])]),_:1})]),_:1})]),_:1}),o(z,null,{default:e(()=>[(a(!0),_(b,null,R(l(f),(r,J)=>(a(),D(w,null,{default:e(()=>[o(x,null,{default:e(()=>[n(d(J+1),1)]),_:2},1024),o(x,null,{default:e(()=>[m("strong",kt,d(r.name),1),m("ul",yt,[(a(!0),_(b,null,R(r.permissions,L=>(a(),_("li",Tt,d(l(dt)(L.name)),1))),256))])]),_:2},1024),o(x,{class:"text-right"},{default:e(()=>[o(P,null,{default:e(()=>[o(A,null,{default:e(()=>[o(l(vt))]),_:1}),o(H,null,{default:e(()=>[l(p)("role_edit")?(a(),D(k,{key:0,onClick:()=>{i.value=!0,s.value=r}},{default:e(()=>[o(l(xt)),t[11]||(t[11]=n(" Edit ",-1))]),_:2},1032,["onClick"])):N("",!0),l(p)("role_delete")?(a(),D(k,{key:1,onClick:()=>{u.value=!0,s.value=r}},{default:e(()=>[o(l($t)),t[12]||(t[12]=n(" Delete ",-1))]),_:2},1032,["onClick"])):N("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),o(E,{open:l(i),"onUpdate:open":t[2]||(t[2]=()=>{i.value=!1,s.value=null})},{default:e(()=>[o(B,{class:"bg-white"},{default:e(()=>[o(y,null,{default:e(()=>[n("Edit "+d(l(s)?.name),1)]),_:1}),o(T,null,{default:e(()=>[...t[13]||(t[13]=[n("Modify existing role details to update user permissions and access rights. ",-1)])]),_:1}),o(pt,{role:l(s),onUpdate:t[1]||(t[1]=()=>{i.value=!1,s.value=null})},null,8,["role"])]),_:1})]),_:1},8,["open"]),o(E,{open:l(u),"onUpdate:open":t[5]||(t[5]=r=>{u.value=r,s.value=null})},{default:e(()=>[o(B,{class:"bg-white"},{default:e(()=>[o(j,null,{default:e(()=>[o(y,null,{default:e(()=>[...t[14]||(t[14]=[n("Are you sure?",-1)])]),_:1}),o(T,null,{default:e(()=>[...t[15]||(t[15]=[n(" Once deleted cannot be un done. ",-1)])]),_:1})]),_:1}),o(I,null,{default:e(()=>[o(g,{variant:"destructive",onClick:t[3]||(t[3]=()=>{u.value=!1,s.value=null})},{default:e(()=>[...t[16]||(t[16]=[n("Cancel",-1)])]),_:1}),o(g,{variant:"secondary",onClick:t[4]||(t[4]=async()=>{await l(V)(l(s)?.id),u.value=!1,s.value=null,l(c)()})},{default:e(()=>[...t[17]||(t[17]=[n("Yes, delete it",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64)}}});export{mo as default};

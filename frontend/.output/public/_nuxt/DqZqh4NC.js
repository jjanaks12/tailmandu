import{_ as M,a as D,b as F,c as I,d as R,e as q}from"./fXw_ShsL.js";import{_ as A,a as J,b as K,c as O,d as U,e as z}from"./BFD0EuAH.js";import{f as G}from"./D3obJynx.js";import{I as Q,r as W,J as X,l as Y,K as Z,L as h,e as ee,s as te,p as ae,c as _,a as m,b as t,h as w,w as a,g as o,t as i,F as d,o as u,d as l,v as y,f as N}from"./CQTPwDMt.js";import{u as se}from"./C7UDQdGM.js";import"./CPYLdFy8.js";import"./CVr1xrU2.js";import"./CeaXpSoW.js";import"./BolWmxc9.js";import"./CwY-xv84.js";import"./t8bd_pWY.js";import"./CLgC4hXA.js";const T=Q("newsletters",()=>{const c=W([]),{isLoading:g,params:s}=X(),{axios:v}=Y(),x=async()=>{const{data:{data:e,...r}}=await v.get("/newsletter",{params:s.value});c.value=e,s.value=r,c.value=e};return Z(s,(e,r)=>{h(e,r)||x()}),{newsletters:c,isLoading:g,params:s,fetch:x}}),ne={key:0,class:"flex items-center justify-end space-x-2 py-4"},oe={class:"flex-1 text-sm text-muted-foreground"},le={class:"space-x-2"},be=ee({__name:"newsletter",setup(c){se({title:"Newsletters"});const{newsletters:g,params:s}=te(T()),{fetch:v}=T();return ae(()=>{v()}),(x,e)=>{const r=I,$=F,P=D,f=q,k=R,B=M,C=K,S=O,E=U,V=z,j=J,H=A;return u(),_(d,null,[e[5]||(e[5]=m("div",{class:"flex"},[m("div",{class:"flex-grow"},[m("h1",{class:"text-primary text-2xl mb-4"},"Newsletters")])],-1)),t(B,null,{default:a(()=>[t(P,null,{default:a(()=>[t($,null,{default:a(()=>[t(r,null,{default:a(()=>[...e[1]||(e[1]=[l("SN",-1)])]),_:1}),t(r,null,{default:a(()=>[...e[2]||(e[2]=[l("Name",-1)])]),_:1}),t(r,null,{default:a(()=>[...e[3]||(e[3]=[l("Email",-1)])]),_:1}),t(r,null,{default:a(()=>[...e[4]||(e[4]=[l("Subscribed at",-1)])]),_:1})]),_:1})]),_:1}),t(k,null,{default:a(()=>[(u(!0),_(d,null,y(o(g),(n,b)=>(u(),N($,null,{default:a(()=>[t(f,null,{default:a(()=>[l(i(b+1),1)]),_:2},1024),t(f,null,{default:a(()=>[l(i([n.user?.first_name,n.user?.middle_name,n.user?.last_name].join(" ")??"-"),1)]),_:2},1024),t(f,null,{default:a(()=>[l(i(n.email),1)]),_:2},1024),t(f,null,{default:a(()=>[l(i(o(G)(n.subscribed_at)),1)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),o(s).total_page>1?(u(),_("div",ne,[m("div",oe,i(o(s)?.current)+" of "+i(o(s)?.total_page)+" pages ",1),m("div",le,[t(H,{"items-per-page":o(s).per_page,total:o(s).total,"default-page":o(s).current,"onUpdate:page":e[0]||(e[0]=n=>{s.value={...o(s),current:n}})},{default:a(({page:n})=>[t(j,null,{default:a(({items:b})=>[t(C),(u(!0),_(d,null,y(b,(p,L)=>(u(),_(d,{key:L},[p.type==="page"?(u(),N(S,{key:0,value:p.value,"is-active":p.value===n},{default:a(()=>[l(i(p.value),1)]),_:2},1032,["value","is-active"])):w("",!0)],64))),128)),t(E,{index:4}),t(V)]),_:2},1024)]),_:1},8,["items-per-page","total","default-page"])])])):w("",!0)],64)}}});export{be as default};
